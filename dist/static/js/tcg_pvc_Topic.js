(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tcg_pvc_Topic"],{"076f":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.isList?t._e():o("div",t._l(t.topicComponents,(function(e,n){return o(e.type,{key:t.getCompKey(t.key,n),tag:"component",staticClass:"topic-component",attrs:{slots:e.slots,options:e.options,item:t.item},on:{"handle-topic-header-click":t.handleTopicHeaderClick,"get-more-records":t.getMoreRecords}})})),1),t.isList?o("div",t._l(t.topicComponents,(function(e,n){return o("li",{key:n},[o(e.type,{key:t.getCompKey(t.key,n),tag:"component",staticClass:"topic-component",attrs:{slots:e.slots,options:e.options,item:t.item},on:{"handle-topic-header-click":t.handleTopicHeaderClick,"get-more-records":t.getMoreRecords}})],1)})),0):t._e()])},r=[];o("99af"),o("d3b7"),o("25f0");function s(){return"id-"+Math.random().toString(36).substring(7)}var i=s,c={name:"TopicComponentGroup",components:{Anchor:function(){return o.e("tcg_pvc_Anchor").then(o.bind(null,"11ba"))},Badge:function(){return o.e("tcg_pvc_Badge").then(o.bind(null,"4fe3"))},ButtonComp:function(){return o.e("tcg_pvc_ButtonComp").then(o.bind(null,"fce2"))},Callout:function(){return o.e("tcg_pvc_Callout").then(o.bind(null,"8648"))},CollectionSummary:function(){return o.e("tcg_pvc_CollectionSummary").then(o.bind(null,"cd8c"))},Division:function(){return o.e("tcg_pvc_Division").then(o.bind(null,"db54"))},ePayForm:function(){return o.e("tcg_pvc_ePayForm").then(o.bind(null,"0810"))},ExternalLink:function(){return o.e("pvc_ExternalLink").then(o.bind(null,"b04c"))},HorizontalTable:function(){return Promise.all([o.e("htg_pvc_HorizontalTable"),o.e("tcg_pvc_HorizontalTable")]).then(o.bind(null,"b1cc"))},Image_:function(){return o.e("tcg_pvc_Image").then(o.bind(null,"2797"))},VerticalTable:function(){return o.e("tcg_pvc_VerticalTable").then(o.bind(null,"77cd"))},OverlayToggleGroup:function(){return o.e("tcg_pvc_OverlayToggleGroup").then(o.bind(null,"625e"))},Paragraph:function(){return o.e("tcg_pvc_Paragraph").then(o.bind(null,"c743"))},SpanComp:function(){return o.e("tcg_pvc_SpanComp").then(o.bind(null,"3fee"))},List:function(){return o.e("tcg_pvc_List").then(o.bind(null,"ff55"))},HorizontalTableGroup:function(){return o.e("tcg_pvc_HorizontalTableGroup").then(o.bind(null,"21eb"))},PopoverLink:function(){return o.e("tcg_pvc_PopoverLink").then(o.bind(null,"2a9f"))},Popover:function(){return o.e("tcg_pvc_Popover").then(o.bind(null,"f77f"))},TabGroup:function(){return o.e("tcg_pvc_TabGroup").then(o.bind(null,"6c42"))},BadgeCustom:function(){return o.e("tcg_pvc_BadgeCustom").then(o.bind(null,"5d96"))},Topic:function(){return o.e("tcg_pvc_Topic").then(o.bind(null,"38f7"))},TopicSet:function(){return Promise.all([o.e("tcg_pvc_Topic"),o.e("tcg_pvc_TopicSet")]).then(o.bind(null,"f60d"))},AnyHeader:function(){return o.e("tcg_pvc_AnyHeader").then(o.bind(null,"a4c4"))},CheckboxSet:function(){return Promise.all([o.e("tcg_pvc_Checkbox~tcg_pvc_CheckboxSet~tcg_pvc_RadioButton~tcg_pvc_RadioButtonSet"),o.e("tcg_pvc_Checkbox"),o.e("tcg_pvc_CheckboxSet")]).then(o.bind(null,"ae0c"))},RadioButtonSet:function(){return Promise.all([o.e("tcg_pvc_Checkbox~tcg_pvc_CheckboxSet~tcg_pvc_RadioButton~tcg_pvc_RadioButtonSet"),o.e("tcg_pvc_RadioButtonSet")]).then(o.bind(null,"e30e"))},Checkbox:function(){return Promise.all([o.e("tcg_pvc_Checkbox~tcg_pvc_CheckboxSet~tcg_pvc_RadioButton~tcg_pvc_RadioButtonSet"),o.e("tcg_pvc_Checkbox")]).then(o.bind(null,"c045"))},RadioButton:function(){return Promise.all([o.e("tcg_pvc_Checkbox~tcg_pvc_CheckboxSet~tcg_pvc_RadioButton~tcg_pvc_RadioButtonSet"),o.e("tcg_pvc_RadioButton")]).then(o.bind(null,"6a6a"))},LegendBox:function(){return o.e("tcg_pvc_LegendBox").then(o.bind(null,"5b50"))},Slider:function(){return o.e("tcg_pvc_Slider").then(o.bind(null,"d37c"))}},props:["topicComponents","item","filterData","isList"],data:function(){return{key:i()}},methods:{getCompKey:function(t,e){return"topic-comp-".concat(t,"-").concat(e)},handleTopicHeaderClick:function(t){this.$emit("handle-topic-header-click",t)},getMoreRecords:function(t,e){this.$emit("get-more-records",t,e)}}},a=c,u=(o("fc64"),o("2877")),h=Object(u["a"])(a,n,r,!1,null,"1a77f67f",null);e["default"]=h.exports},"07ac":function(t,e,o){var n=o("23e7"),r=o("6f53").values;n({target:"Object",stat:!0},{values:function(t){return r(t)}})},"238c":function(t,e,o){},"38f7":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.shouldShowTopic?o("div",[t.shouldShowHeader?o("a",{class:t.shouldBeDisabled?"topic-header-disabled":"topic-header",attrs:{"data-topic-key":t.topicKey,href:"#"},on:{click:function(e){return e.preventDefault(),t.handleTopicHeaderClick(e)}}},[o("div",{staticClass:"topic-header-content"},[o("font-awesome-icon",{attrs:{icon:t.icon}}),o("div",{staticClass:"topic-header-label-holder"},[t._v(" "+t._s(t.topic.label)+" ")])],1),o("span",{directives:[{name:"show",rawName:"v-show",value:"waiting"===t.status,expression:"status === 'waiting'"}],staticClass:"loading"},[o("font-awesome-icon",{staticClass:"fa-lg spin",attrs:{icon:"spinner"}})],1)]):t._e(),o("transition",{attrs:{name:"topic-body"}},[t.shouldShowBody?o("div",{staticClass:"topic-body",attrs:{"data-topic-key":t.topicKey}},[o("topic-component-group",{attrs:{"topic-components":t.topic.components},on:{"get-more-records":t.getMoreRecords}})],1):t._e()]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowError,expression:"shouldShowError"}],staticClass:"topic-body",domProps:{innerHTML:t._s(t.errorMessage)}})],1):t._e()},r=[],s=(o("a623"),o("4de4"),o("caad"),o("d81d"),o("b64b"),o("07ac"),o("2532"),o("b85c")),i=o("076f"),c={name:"Topic",components:{},props:["topicKey"],computed:{shouldBeDisabled:function(){return!!this.topic.disabled},topic:function(){var t=this,e=this.$props.topicKey,o=this.$config.topics.filter((function(e){return e.key===t.$props.topicKey}));if(1!==o.length)throw"Could not get single config object for topic '".concat(e,"'.");var n=o[0];return n},icon:function(){return this.topic.icon},isActive:function(){var t=this.topic.key,e=this.$store.state.activeTopic;return e===t},shouldShowHeader:function(){return this.$config.topics.length>1},dataSources:function(){return this.topic.dataSources||[]},hasData:function(){var t=this,e=this.dataSources.every((function(e){var o=t.$config.dataSources[e].targets;if(o){var n=t.$store.state.sources[e].targets,r=Object.values(n);return 0!==r.length&&r.every((function(t){return"waiting"!==t.status}))}return t.$store.state.sources[e].data?!t.$store.state.sources[e].data.body||!t.$store.state.sources[e].data.body.includes("Invalid account number"):!!t.$store.state.sources[e].data}));return e},shouldShowBody:function(){var t="success"===this.status,e=this.hasData,o=t&&e&&this.isActive;return o},shouldShowTopic:function(){return!this.topic.showTopicOnlyIfDataExists||(!!this.showTopicBasedOnOtherData||this.showTopicOnlyIfDataExists)},shouldShowError:function(){var t=this.isActive&&("error"===this.status||"waiting"!==this.status&&!this.hasData);return t&&console.log("BINGO BINGO BINGO:",this.topicKey,"shouldShowError:",t,"status:",this.status,"hasData:",this.hasData),t},errorMessage:function(){return this.topic.errorMessage?this.topic.errorMessage(this.$store.state):"Could not locate records for that address."},status:{cache:!1,get:function(){var t,e=this,o=this.topic.dataSources||[];if(0===o.length)return"success";var n,r=o.map((function(t){var o=e.$config.dataSources[t].targets;if(o){var n=e.$store.state.sources[t].targets,r=Object.values(n);if(0===r.length)return;return r.map((function(t){return t.status}))}return[e.$store.state.sources[t].status]})),i=[],c=Object(s["a"])(r);try{for(c.s();!(n=c.n()).done;){var a=n.value;if(a){var u,h=Object(s["a"])(a);try{for(h.s();!(u=h.n()).done;){var l=u.value;i.push(l)}}catch(p){h.e(p)}finally{h.f()}}}}catch(p){c.e(p)}finally{c.f()}return t=i.includes("waiting")?"waiting":i.includes("error")?"error":"success",t}},showTopicBasedOnOtherData:function(){if(!this.topic.showTopicBasedOnOtherData)return!1;var t=this.topic.showTopicBasedOnOtherData.requiredData,e=this.checkForData(t);if(!e)return!1;for(var o=Object.keys(this.topic.showTopicBasedOnOtherData.otherData),n=[],r=0,s=o;r<s.length;r++)for(var i=s[r],c=this.topic.showTopicBasedOnOtherData.otherData[i],a=Object.keys(c),u=0,h=a;u<h.length;u++){var l=h[u];this.$store.state.sources[i][l]===c[l]?n.push(!0):n.push(!1)}return!n.includes(!1)},showTopicOnlyIfDataExists:function(){return this.checkForData(this.topic.showTopicOnlyIfDataExists)}},beforeCreate:function(){this.$options.components.TopicComponentGroup=i["default"]},methods:{getMoreRecords:function(t,e){console.log("Topic.vue getMoreRecords is running, dataSource:",t,"highestPageRetrieved:",e),this.$emit("get-more-records",t,e)},checkForData:function(t){for(var e=Object.keys(t),o=!0,n=0,r=e;n<r.length;n++){var s=r[n],i=t[s].pathToDataArray,c=t[s].minDataLength,a=void 0;if(!this.$store.state.sources[s].data)return!1;i?1===i.length&&(a=this.$store.state.sources[s].data[i[0]]):a=this.$store.state.sources[s].data,a.length<c&&(o=!1)}return o},configForBasemap:function(t){return this.$config.map.basemaps[t]},handleTopicHeaderClick:function(t){var e,o=this.$props.topicKey;o!==this.$store.state.activeTopic&&(e=o),this.$emit("handle-topic-header-click",e)}}},a=c,u=(o("b07e"),o("2877")),h=Object(u["a"])(a,n,r,!1,null,"05ca420b",null);e["default"]=h.exports},4300:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.shouldShowTopic?o("div",[t.shouldShowHeader?o("a",{class:t.shouldBeDisabled?"topic-header-disabled":"topic-header",attrs:{"data-topic-key":t.topicKey,href:"#"},on:{click:function(e){return e.preventDefault(),t.handleTopicHeaderClick(e)}}},[o("div",{staticClass:"topic-header-content"},[o("font-awesome-icon",{attrs:{icon:t.icon}}),o("div",{staticClass:"topic-header-label-holder"},[t._v(" "+t._s(t.topic.label)+" ")])],1),o("span",{directives:[{name:"show",rawName:"v-show",value:"waiting"===t.status,expression:"status === 'waiting'"}],staticClass:"loading"},[o("font-awesome-icon",{staticClass:"fa-lg spin",attrs:{icon:"spinner"}})],1)]):t._e(),o("transition",{attrs:{name:"topic-body"}},[t.shouldShowBody?o("div",{staticClass:"topic-body",attrs:{"data-topic-key":t.topicKey}},[o("topic-component-group",{attrs:{"topic-components":t.topic.components},on:{"get-more-records":t.getMoreRecords}})],1):t._e()]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowError,expression:"shouldShowError"}],staticClass:"topic-body",domProps:{innerHTML:t._s(t.errorMessage)}})],1):t._e()},r=[],s=(o("ba1f"),o("2d6d"),o("e8fd"),o("1c7d"),o("5d53"),o("a58a"),o("97cc"),o("b85c")),i=o("89a9"),c={name:"Topic",components:{},props:["topicKey"],computed:{shouldBeDisabled:function(){return!!this.topic.disabled},topic:function(){var t=this,e=this.$props.topicKey,o=this.$config.topics.filter((function(e){return e.key===t.$props.topicKey}));if(1!==o.length)throw"Could not get single config object for topic '".concat(e,"'.");var n=o[0];return n},icon:function(){return this.topic.icon},isActive:function(){var t=this.topic.key,e=this.$store.state.activeTopic;return e===t},shouldShowHeader:function(){return this.$config.topics.length>1},dataSources:function(){return this.topic.dataSources||[]},hasData:function(){var t=this,e=this.dataSources.every((function(e){var o=t.$config.dataSources[e].targets;if(o){var n=t.$store.state.sources[e].targets,r=Object.values(n);return 0!==r.length&&r.every((function(t){return"waiting"!==t.status}))}return t.$store.state.sources[e].data?!t.$store.state.sources[e].data.body||!t.$store.state.sources[e].data.body.includes("Invalid account number"):!!t.$store.state.sources[e].data}));return e},shouldShowBody:function(){var t="success"===this.status,e=this.hasData,o=t&&e&&this.isActive;return o},shouldShowTopic:function(){return!this.topic.showTopicOnlyIfDataExists||(!!this.showTopicBasedOnOtherData||this.showTopicOnlyIfDataExists)},shouldShowError:function(){var t=this.isActive&&("error"===this.status||"waiting"!==this.status&&!this.hasData);return t&&console.log("BINGO BINGO BINGO:",this.topicKey,"shouldShowError:",t,"status:",this.status,"hasData:",this.hasData),t},errorMessage:function(){return this.topic.errorMessage?this.topic.errorMessage(this.$store.state):"Could not locate records for that address."},status:{cache:!1,get:function(){var t,e=this,o=this.topic.dataSources||[];if(0===o.length)return"success";var n,r=o.map((function(t){var o=e.$config.dataSources[t].targets;if(o){var n=e.$store.state.sources[t].targets,r=Object.values(n);if(0===r.length)return;return r.map((function(t){return t.status}))}return[e.$store.state.sources[t].status]})),i=[],c=Object(s["a"])(r);try{for(c.s();!(n=c.n()).done;){var a=n.value;if(a){var u,h=Object(s["a"])(a);try{for(h.s();!(u=h.n()).done;){var l=u.value;i.push(l)}}catch(p){h.e(p)}finally{h.f()}}}}catch(p){c.e(p)}finally{c.f()}return t=i.includes("waiting")?"waiting":i.includes("error")?"error":"success",t}},showTopicBasedOnOtherData:function(){if(!this.topic.showTopicBasedOnOtherData)return!1;var t=this.topic.showTopicBasedOnOtherData.requiredData,e=this.checkForData(t);if(!e)return!1;for(var o=Object.keys(this.topic.showTopicBasedOnOtherData.otherData),n=[],r=0,s=o;r<s.length;r++)for(var i=s[r],c=this.topic.showTopicBasedOnOtherData.otherData[i],a=Object.keys(c),u=0,h=a;u<h.length;u++){var l=h[u];this.$store.state.sources[i][l]===c[l]?n.push(!0):n.push(!1)}return!n.includes(!1)},showTopicOnlyIfDataExists:function(){return this.checkForData(this.topic.showTopicOnlyIfDataExists)}},beforeCreate:function(){this.$options.components.TopicComponentGroup=i["default"]},methods:{getMoreRecords:function(t,e){console.log("Topic.vue getMoreRecords is running, dataSource:",t,"highestPageRetrieved:",e),this.$emit("get-more-records",t,e)},checkForData:function(t){for(var e=Object.keys(t),o=!0,n=0,r=e;n<r.length;n++){var s=r[n],i=t[s].pathToDataArray,c=t[s].minDataLength,a=void 0;if(!this.$store.state.sources[s].data)return!1;i?1===i.length&&(a=this.$store.state.sources[s].data[i[0]]):a=this.$store.state.sources[s].data,a.length<c&&(o=!1)}return o},configForBasemap:function(t){return this.$config.map.basemaps[t]},handleTopicHeaderClick:function(t){var e,o=this.$props.topicKey;o!==this.$store.state.activeTopic&&(e=o),this.$emit("handle-topic-header-click",e)}}},a=c,u=(o("ab36"),o("2877")),h=Object(u["a"])(a,n,r,!1,null,"8000520e",null);e["default"]=h.exports},"6f53":function(t,e,o){var n=o("83ab"),r=o("df75"),s=o("fc6a"),i=o("d1e7").f,c=function(t){return function(e){var o,c=s(e),a=r(c),u=a.length,h=0,l=[];while(u>h)o=a[h++],n&&!i.call(c,o)||l.push(t?[o,c[o]]:c[o]);return l}};t.exports={entries:c(!0),values:c(!1)}},"91f4":function(t,e,o){},"93b1":function(t,e,o){},a623:function(t,e,o){"use strict";var n=o("23e7"),r=o("b727").every,s=o("a640"),i=o("ae40"),c=s("every"),a=i("every");n({target:"Array",proto:!0,forced:!c||!a},{every:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},ab36:function(t,e,o){"use strict";var n=o("93b1"),r=o.n(n);r.a},b07e:function(t,e,o){"use strict";var n=o("238c"),r=o.n(n);r.a},fc64:function(t,e,o){"use strict";var n=o("91f4"),r=o.n(n);r.a}}]);
//# sourceMappingURL=tcg_pvc_Topic.js.map