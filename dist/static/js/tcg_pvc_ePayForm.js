(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tcg_pvc_ePayForm"],{"0810":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{action:t.actionAddress,method:"post",target:"_blank"}},[a("input",{attrs:{name:"billStmt",type:"hidden"},domProps:{value:t.xmlData}}),a("input",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowButton,expression:"shouldShowButton"}],staticClass:"button external",style:t.buttonStyle,attrs:{type:"submit"},domProps:{value:this.$props.slots.text}})])},n=[],o=(a("d81d"),a("13d5"),a("f076")),r=(a("99af"),a("b64b"),a("b166")),i=a("74a0"),c=a.n(i),l=function(t){if(console.log("pvc generate billing xml, data:",t,"data.address.zipCode:",t.address.zipCode),Object.keys(t).length<1)return"";var e=Object(r["a"])(new Date,"yyyy-MM-dd'T'HH:mm:ssxxx");console.log("timestamp in pvc gb:",e);var a='<?xml version="1.0" encoding="utf-16"?>\n<BillingStatement xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">\n  <ApplicationID>fcd68fd2-e923-4b03-a0e7-a678c2ed612a</ApplicationID>\n  <AccountNumber />\n  <BillNumber>'.concat(t.balances.accountNum,"</BillNumber>\n  <StatementNumber />\n  <BillingDate>").concat(e,"</BillingDate>\n  <DueDate>").concat(e,"</DueDate>\n  <TotalDue>").concat(t.totalDue,"</TotalDue>\n  <DepartMentId>0</DepartMentId>\n  <Fund>0</Fund>\n  <PaymentDate>0001-01-01T00:00:00</PaymentDate>\n  <Quantity>0</Quantity>\n  <ItemAmount>0</ItemAmount>\n  <TotalAmountdue>0</TotalAmountdue>\n  <PartialPaymentFlag>false</PartialPaymentFlag>\n  <ReceiptpresentFlag>false</ReceiptpresentFlag>\n  <Details>\n    <BillingStatementDetail>\n      <ItemDate>").concat(e,"</ItemDate>\n      <ItemDescription>Real Estate Tax</ItemDescription>\n      <Charges>").concat(t.totalDue,"</Charges>\n      <Credits>0</Credits>\n    </BillingStatementDetail>\n  </Details>\n  <Customers>\n    <Customer>\n      <FirstName>").concat(t.balances.property.ownerName,"</FirstName>\n      <MiddleName />\n      <LastName />\n      <BillingAddress>\n        <Address>\n          <AddressLine1>").concat(t.address.streetAddress,"</AddressLine1>\n          <City>PHILADELPHIA</City>\n          <State>PA</State>\n          <PostalCode>").concat(t.address.zipCode,"</PostalCode>\n          <Country>US</Country>\n        </Address>\n      </BillingAddress>\n    </Customer>\n  </Customers>\n</BillingStatement>\n  ");return c()(a)},u=["principal","interest","penalty","other"],d={mixins:[o["a"]],data:function(){var t={parseData:{accountNum:this.$store.state.sources.tips.data.data.accountNum,totalDue:"",balances:this.$store.state.sources.tips.data.data,address:{streetAddress:this.$store.state.sources.tips.data.data.property.address,zipCode:this.zipCode}},xmlData:{},buttonStyle:"height: "+this.$props.options.height+"px;         width: "+this.$props.options.width+"px;         font-size: "+this.$props.options.fontSize+"px;         ",actionAddress:this.$props.options.actionAddress||"https://test-secure.phila.gov/PaymentCenter/Gateway1/InitiatePurchase.aspx"};return t},computed:{zipCode:function(){return this.$store.state.geocode.data?this.$store.state.geocode.data.properties.zip_code:""},message:function(){var t;return this.$props.slots&&(t=this.evaluateSlot(this.$props.slots.text)),t},class:function(){var t;return this.$props.options&&(t=this.$props.options.class||""),t},style:function(){var t;return this.$props.options&&(t=this.$props.options.style||""),t},shouldShowButton:function(){return this.parseData.totalDue>0}},created:function(){this.parseData.totalDue=this.calculateTotalDue(),this.$store.commit("setPropertyBalance",this.parseData.totalDue)},mounted:function(){this.$data.parseData.address.zipCode=this.zipCode,this.xmlData=l(this.parseData)},methods:{calculateTotalDue:function(){var t=this;return this.parseData.balances.years.reduce((function(e,a){var s=t.calculateTotalForYear(a);return e+s}),0)},calculateTotalForYear:function(t){var e=u.map((function(e){return t[e]}));return e.reduce((function(t,e){return t+e}),0)}}},p=d,m=a("2877"),h=Object(m["a"])(p,s,n,!1,null,"de516e46",null);e["default"]=h.exports},"74a0":function(t,e,a){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var s=/["'&<>]/;function n(t){var e,a=""+t,n=s.exec(a);if(!n)return a;var o="",r=0,i=0;for(r=n.index;r<a.length;r++){switch(a.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==r&&(o+=a.substring(i,r)),i=r+1,o+=e}return i!==r?o+a.substring(i,r):o}t.exports=n}}]);
//# sourceMappingURL=tcg_pvc_ePayForm.js.map