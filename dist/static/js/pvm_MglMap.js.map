{"version":3,"sources":["webpack:///./node_modules/@phila/vue-mapping/src/mapbox/map/GlMap.vue?2cca","webpack:///./node_modules/map-promisified/dist/mapPromisify.js","webpack:///./node_modules/@phila/vue-mapping/src/mapbox/map/GlMap.vue?6ad6","webpack:///./node_modules/@phila/vue-mapping/src/mapbox/map/events.js","webpack:///./node_modules/@phila/vue-mapping/src/mapbox/map/options.js","webpack:///./node_modules/@phila/vue-mapping/src/mapbox/map/mixins/withWatchers.js","webpack:///./node_modules/@phila/vue-mapping/src/mapbox/map/mixins/withPrivateMethods.js","webpack:///./node_modules/@phila/vue-mapping/src/mapbox/map/mixins/withAsyncActions.js","webpack:///node_modules/@phila/vue-mapping/src/mapbox/map/GlMap.vue","webpack:///./node_modules/@phila/vue-mapping/src/mapbox/map/GlMap.vue?81e2","webpack:///./node_modules/@phila/vue-mapping/src/mapbox/map/GlMap.vue","webpack:///./node_modules/@phila/vue-mapping/src/mapbox/lib/withEvents.js"],"names":["e","n","module","exports","window","t","o","r","i","l","call","m","c","d","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","prototype","hasOwnProperty","p","s","name","check","center","isMoving","zoom","isZooming","bearing","isRotating","pitch","getCenter","getZoom","getBearing","getPitch","events","getter","u","f","a","setCenter","panBy","panTo","setZoom","zoomTo","zoomIn","zoomOut","setBearing","rotateTo","resetNorth","snapToNorth","setPitch","fitBounds","fitScreenCoordinates","jumpTo","easeTo","flyTo","iterator","constructor","arguments","length","keys","getOwnPropertySymbols","concat","filter","getOwnPropertyDescriptor","forEach","g","configurable","writable","Math","random","split","type","eventId","off","map","event","func","Promise","on","push","apply","resolve","v","all","then","h","indexOf","b","render","_vm","this","_h","$createElement","_c","_self","class","mapContainerClass","attrs","_m","_t","_e","staticRenderFns","ref","container","resize","webglcontextlost","webglcontextrestored","remove","movestart","load","contextmenu","dblclick","click","touchcancel","touchmove","touchend","touchstart","dataloading","mousemove","mouseup","mousedown","sourcedataloading","error","data","styledata","sourcedata","mouseout","styledataloading","moveend","move","zoomstart","zoomend","boxzoomstart","boxzoomcancel","boxzoomend","rotate","rotatestart","rotateend","dragend","drag","dragstart","idle","String","HTMLElement","default","accessToken","undefined","minZoom","Number","maxZoom","mapStyle","required","hash","Boolean","interactive","bearingSnap","pitchWithRotate","clickTolerance","attributionControl","customAttribution","Array","logoPosition","validator","val","includes","failIfMajorPerformanceCaveat","preserveDrawingBuffer","refreshExpiredTiles","maxBounds","scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","trackResize","bounds","fitBoundsOptions","renderWorldCopies","RTLTextPluginUrl","light","tileBoundaries","collisionBoxes","repaint","transformRequest","Function","maxTileCacheSize","localIdeographFontFamily","collectResourceTiming","fadeDuration","crossSourceCollisions","watchers","next","setMaxBounds","setMinZoom","setMaxZoom","setStyle","showCollisionBoxes","showTileBoundaries","setLigh","watcher","prop","callback","prev","initial","$listeners","propsIsUpdating","_watcher","active","$nextTick","makeWatchers","wrappers","entries","watch","methods","$_updateSyncedPropsFabric","info","$emit","$_bindPropsUpdateEvents","syncedProps","$_loadMap","mapboxPromise","mapbox","Map","_props","$refs","style","component","$_RTLTextPluginError","$_bindMapEvents","eventName","$_emitMapEvent","$_unbindEvents","created","actions","$_registerAsyncActions","promisify","stop","updatedProps","mixins","props","mapboxGl","provide","self","initialized","computed","cyclomediaActive","$store","state","cyclomedia","pictometryActive","pictometry","picOrCycloActive","$config","orientation","containerClassWCyclo","containerClass","loaded","version","isStyleLoaded","areTilesLoaded","canvas","getCanvas","canvasContainer","getCanvasContainer","images","listImages","mounted","console","log","beforeDestroy","testMethod","$_emitEvent","mapboxEvent"],"mappings":"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","file":"static/js/pvm_MglMap.js","sourcesContent":["import mod from \"-!../../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../vue-loader/lib/index.js??vue-loader-options!./GlMap.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../vue-loader/lib/index.js??vue-loader-options!./GlMap.vue?vue&type=style&index=0&lang=css&\"","(function(e,n){\"object\"===typeof exports&&\"object\"===typeof module?module.exports=n():\"function\"===typeof define&&define.amd?define([],n):\"object\"===typeof exports?exports[\"mapPromisify\"]=n():e[\"mapPromisify\"]=n()})(window,function(){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&\"object\"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&n&&\"string\"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e[\"default\"]}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p=\"\",t(t.s=0)}([function(e,n,t){e.exports=t(1)},function(e,n,t){\"use strict\";t.r(n);var o=[{name:\"moveend\",check:function(e,n){return n.center&&e.isMoving()}},{name:\"zoomend\",check:function(e,n){return void 0!==n.zoom&&null!==n.zoom&&e.isZooming()}},{name:\"rotateend\",check:function(e,n){return void 0!==n.bearing&&null!==n.bearing&&e.isRotating()}},{name:\"pitchend\",check:function(e,n){return void 0!==n.pitch&&null!==n.bearing&&e.isMoving()}}],r=function(e){return{center:e.getCenter(),zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch()}},i={events:o,getter:r},u={events:[{name:\"moveend\",check:function(e){return e.isMoving()}}],getter:function(e){return{center:e.getCenter()}}},c={events:[{name:\"zoomend\",check:function(e){return e.isZooming()}}],getter:function(e){return{zoom:e.getZoom()}}},f={events:[{name:\"rotateend\",check:function(e){return e.isRotating()}}],getter:function(e){return{bearing:e.getBearing()}}},a={setCenter:u,panBy:u,panTo:u,setZoom:c,zoomTo:c,zoomIn:c,zoomOut:c,setBearing:f,rotateTo:f,resetNorth:f,snapToNorth:f,setPitch:{events:[{name:\"pitchend\",check:function(e){return!0}}],getter:function(e){return{pitch:e.getPitch()}}},fitBounds:{events:[{name:\"zoomend\",check:function(e){return e.isZooming()}},{name:\"moveend\",check:function(e){return e.isMoving()}},{name:\"rotateend\",check:function(e){return e.isRotating()}}],getter:function(e){return{zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch(),center:e.getCenter()}}},fitScreenCoordinates:{events:[{name:\"zoomend\",check:function(e,n){return e.isZooming()}},{name:\"moveend\",check:function(e,n){return e.isMoving()}},{name:\"rotateend\",check:function(e,n){return n.bearing&&e.isRotating()}}],getter:function(e){return{zoom:e.getZoom(),center:e.getCenter(),bearing:e.getBearing(),pitch:e.getPitch()}}},jumpTo:i,easeTo:i,flyTo:i};function l(e){return l=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},l(e)}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);\"function\"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){g(e,n,t[n])})}return e}function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e){return\"\".concat(e,\"-\").concat((\"\"+Math.random()).split(\".\")[1])}function d(e,n,t,o){var r=function r(i){i.type===n&&i.eventId===t&&(e.off(n,r),o(i))};return r}function p(e,n){var t=e[n],o=t.length;return function(){for(var r=[],i={eventId:s(n)},u=a[n].events.map(function(n,t){return{event:n,func:new Promise(function(o,u){r[t]={event:n,func:d(e,n.name,i.eventId,o)},e.on(n.name,r[t].func)})}}),c=[],f=0;f<o;f++)f===o-1?c.push(m({},i,(f<0||arguments.length<=f?void 0:arguments[f])||{})):c.push((f<0||arguments.length<=f?void 0:arguments[f])||null);var g=[],p=(arguments.length<=0?void 0:arguments[0])||{};try{t.apply(e,c),\"fitBounds\"===n&&(p={}),\"fitScreenCoordinates\"===n&&(p={bearing:null},p.bearing=null,\"number\"===typeof(arguments.length<=2?void 0:arguments[2])&&(p.bearing=arguments.length<=2?void 0:arguments[2]),(arguments.length<=3?void 0:arguments[3])&&\"object\"===l(arguments.length<=3?void 0:arguments[3])&&(p=m({},p,arguments.length<=3?void 0:arguments[3]))),g=u.map(function(n){var t=n.event,o=n.func;return t.check(e,p)?o:(e.off(t.name,o),Promise.resolve())})}catch(v){throw r.forEach(function(n){var t=n.event,o=n.func;e.off(t.name,o)}),v}return Promise.all(g).then(function(){return a[n].getter(e)})}}var v=p,h=function(e){var n=Object.keys(a),t={};return n.forEach(function(o){-1!==n.indexOf(o)&&(t[o]=v(e,o))}),t};function b(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n?v(e,n):h(e)}t.d(n,\"default\",function(){return b})}])[\"default\"]});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.mapContainerClass + ' mgl-map-wrapper',attrs:{\"id\":\"map-container\"}},[_vm._m(0),(_vm.initialized)?_vm._t(\"default\"):_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",attrs:{\"id\":_vm.container}})}]\n\nexport { render, staticRenderFns }","/* eslint-disable key-spacing */\n\nexport default {\n  resize: { name: \"resize\" },\n  webglcontextlost: { name: \"webglcontextlost\" },\n  webglcontextrestored: { name: \"webglcontextrestored\" },\n  remove: { name: \"remove\" },\n  movestart: { name: \"movestart\" },\n  load: { name: \"load\" },\n  contextmenu: { name: \"contextmenu\" },\n  dblclick: { name: \"dblclick\" },\n  click: { name: \"click\" },\n  touchcancel: { name: \"touchcancel\" },\n  touchmove: { name: \"touchmove\" },\n  touchend: { name: \"touchend\" },\n  touchstart: { name: \"touchstart\" },\n  dataloading: { name: \"dataloading\" },\n  mousemove: { name: \"mousemove\" },\n  mouseup: { name: \"mouseup\" },\n  mousedown: { name: \"mousedown\" },\n  sourcedataloading: { name: \"sourcedataloading\" },\n  error: { name: \"error\" },\n  data: { name: \"data\" },\n  styledata: { name: \"styledata\" },\n  sourcedata: { name: \"sourcedata\" },\n  mouseout: { name: \"mouseout\" },\n  styledataloading: { name: \"styledataloading\" },\n  moveend: { name: \"moveend\" },\n  move: { name: \"move\" },\n  render: { name: \"render\" },\n  zoom: { name: \"zoom\" },\n  zoomstart: { name: \"zoomstart\" },\n  zoomend: { name: \"zoomend\" },\n  boxzoomstart: { name: \"boxzoomstart\" },\n  boxzoomcancel: { name: \"boxzoomcancel\" },\n  boxzoomend: { name: \"boxzoomend\" },\n  rotate: { name: \"rotate\" },\n  rotatestart: { name: \"rotatestart\" },\n  rotateend: { name: \"rotateend\" },\n  dragend: { name: \"dragend\" },\n  drag: { name: \"drag\" },\n  dragstart: { name: \"dragstart\" },\n  pitch: { name: \"pitch\" },\n  idle: { name: \"idle\" },\n};\n","export default {\n  container: {\n    type: [ String, HTMLElement ],\n    default() {\n      return `map-${(\"\" + Math.random()).split(\".\")[1]}`;\n    },\n  },\n  accessToken: {\n    type: String,\n    default: undefined,\n  },\n  minZoom: {\n    type: Number,\n    default: 0,\n  },\n  maxZoom: {\n    type: Number,\n    default: 22,\n  },\n  mapStyle: {\n    type: [ String, Object ],\n    required: true,\n  },\n  hash: {\n    type: Boolean,\n    default: false,\n  },\n  interactive: {\n    type: Boolean,\n    default: true,\n  },\n  bearingSnap: {\n    type: Number,\n    default: 7,\n  },\n  pitchWithRotate: {\n    type: Boolean,\n    default: true,\n  },\n  clickTolerance: {\n    type: Number,\n    default: 3,\n  },\n  // classes: {\n  //   type: Array,\n  //   default() {\n  //     return []\n  //   }\n  // },\n  attributionControl: {\n    type: Boolean,\n    default: true,\n  },\n  customAttribution: {\n    type: [ String, Array ],\n    default: null,\n  },\n  logoPosition: {\n    type: String,\n    default: \"bottom-left\",\n    validator: val =>\n      [ \"top-left\", \"top-right\", \"bottom-left\", \"bottom-right\" ].includes(val),\n  },\n  failIfMajorPerformanceCaveat: {\n    type: Boolean,\n    default: false,\n  },\n  preserveDrawingBuffer: {\n    type: Boolean,\n    default: false,\n  },\n  refreshExpiredTiles: {\n    type: Boolean,\n    default: true,\n  },\n  maxBounds: {\n    type: Array,\n    default() {\n      return undefined;\n    },\n  },\n  scrollZoom: {\n    type: [ Boolean, Object ],\n    default() {\n      return true;\n    },\n  },\n  boxZoom: {\n    type: Boolean,\n    default: true,\n  },\n  dragRotate: {\n    type: Boolean,\n    default: true,\n  },\n  dragPan: {\n    type: Boolean,\n    default: true,\n  },\n  keyboard: {\n    type: Boolean,\n    default: true,\n  },\n  doubleClickZoom: {\n    type: Boolean,\n    default: true,\n  },\n  touchZoomRotate: {\n    type: [ Boolean, Object ],\n    default() {\n      return true;\n    },\n  },\n  trackResize: {\n    type: Boolean,\n    default: true,\n  },\n  center: {\n    type: [ Object, Array ],\n    default: undefined,\n  },\n  zoom: {\n    type: Number,\n    default: 0,\n  },\n  bearing: {\n    type: Number,\n    default: 0,\n  },\n  pitch: {\n    type: Number,\n    default: 0,\n  },\n  bounds: {\n    type: [ Object, Array ],\n    default: undefined,\n  },\n  fitBoundsOptions: {\n    type: Object,\n    default: undefined,\n  },\n  renderWorldCopies: {\n    type: Boolean,\n    default: true,\n  },\n  RTLTextPluginUrl: {\n    type: String,\n    default: undefined,\n  },\n  light: {\n    type: Object,\n    default: undefined,\n  },\n  tileBoundaries: {\n    type: Boolean,\n    default: false,\n  },\n  collisionBoxes: {\n    type: Boolean,\n    default: false,\n  },\n  repaint: {\n    type: Boolean,\n    default: false,\n  },\n  transformRequest: {\n    type: Function,\n    default: null,\n  },\n  maxTileCacheSize: {\n    type: Number,\n    default: null,\n  },\n  localIdeographFontFamily: {\n    type: String,\n    default: null,\n  },\n  collectResourceTiming: {\n    type: Boolean,\n    default: false,\n  },\n  fadeDuration: {\n    type: Number,\n    default: 300,\n  },\n  crossSourceCollisions: {\n    type: Boolean,\n    default: true,\n  },\n};\n","const watchers = {\n  maxBounds(next) {\n    this.map.setMaxBounds(next);\n  },\n  minZoom(next) {\n    this.map.setMinZoom(next);\n  },\n  maxZoom(next) {\n    this.map.setMaxZoom(next);\n  },\n  mapStyle(next) {\n    this.map.setStyle(next);\n  },\n  // TODO: make 'bounds' synced prop\n  // bounds (next) { this.map.fitBounds(next, { linear: true, duration: 0 }) },\n  collisionBoxes(next) {\n    this.map.showCollisionBoxes = next;\n  },\n  tileBoundaries(next) {\n    this.map.showTileBoundaries = next;\n  },\n  repaint(next) {\n    this.map.repaint = next;\n  },\n  zoom(next) {\n    this.map.setZoom(next);\n  },\n  center(next) {\n    this.map.setCenter(next);\n  },\n  bearing(next) {\n    this.map.setBearing(next);\n  },\n  pitch(next) {\n    this.map.setPitch(next);\n  },\n  light(next) {\n    this.map.setLigh(next);\n  },\n};\n\nfunction watcher(prop, callback, next, prev) {\n  if (this.initial) {\n    return;\n  }\n  if (this.$listeners[`update:${prop}`]) {\n    if (this.propsIsUpdating[prop]) {\n      this._watcher.active = false;\n      this.$nextTick(() => {\n        this._watcher.active = true;\n      });\n    } else {\n      this._watcher.active = true;\n      callback(next, prev);\n    }\n    this.propsIsUpdating[prop] = false;\n  } else {\n    callback(next, prev);\n  }\n}\n\nfunction makeWatchers() {\n  const wrappers = {};\n  Object.entries(watchers).forEach(prop => {\n    wrappers[prop[0]] = function(next, prev) {\n      return watcher.call(this, prop[0], prop[1].bind(this), next, prev);\n    };\n  });\n  return wrappers;\n}\n\nexport default {\n  watch: makeWatchers(),\n};\n","export default {\n  methods: {\n    $_updateSyncedPropsFabric(prop, data) {\n      return () => {\n        this.propsIsUpdating[prop] = true;\n        let info = typeof data === \"function\" ? data() : data;\n        return this.$emit(`update:${prop}`, info);\n      };\n    },\n\n    $_bindPropsUpdateEvents() {\n      const syncedProps = [\n        {\n          events: [ \"moveend\" ],\n          prop: \"center\",\n          getter: this.map.getCenter.bind(this.map),\n        },\n        {\n          events: [ \"zoomend\" ],\n          prop: \"zoom\",\n          getter: this.map.getZoom.bind(this.map),\n        },\n        {\n          events: [ \"rotate\" ],\n          prop: \"bearing\",\n          getter: this.map.getBearing.bind(this.map),\n        },\n        {\n          events: [ \"pitch\" ],\n          prop: \"pitch\",\n          getter: this.map.getPitch.bind(this.map),\n        },\n        // TODO: make 'bounds' synced prop\n        // { events: ['moveend', 'zoomend', 'rotate', 'pitch'], prop: 'bounds', getter: this.map.getBounds.bind(this.map) }\n      ];\n      syncedProps.forEach(({ events, prop, getter }) => {\n        events.forEach(event => {\n          if (this.$listeners[`update:${prop}`]) {\n            this.map.on(event, this.$_updateSyncedPropsFabric(prop, getter));\n          }\n        });\n      });\n    },\n\n    $_loadMap() {\n      // console.log('$_loadMap is running');\n      return this.mapboxPromise.then(mapbox => {\n        // console.log('inside $_loadMap then');\n        this.mapbox = mapbox.default ? mapbox.default : mapbox;\n        return new Promise(resolve => {\n          if (this.accessToken) {\n            this.mapbox.accessToken = this.accessToken;\n          }\n          // console.log('inside $_loadMap, about to create map, this.$refs.container:', this.$refs.container);\n          const map = new this.mapbox.Map({\n            ...this._props,\n            container: this.$refs.container,\n            style: this.mapStyle,\n          });\n          // console.log('inside $_loadMap, map:', map);\n          this.$emit(\"preload\", { map, component: this });\n          map.on(\"load\", function() {\n            // console.log('inside map.on(\"load\")');\n            resolve(map);\n          });\n        });\n      });\n    },\n\n    $_RTLTextPluginError(error) {\n      this.$emit(\"rtl-plugin-error\", { map: this.map, error: error });\n    },\n\n    $_bindMapEvents(events) {\n      Object.keys(this.$listeners).forEach(eventName => {\n        if (events.includes(eventName)) {\n          this.map.on(eventName, this.$_emitMapEvent);\n        }\n      });\n    },\n\n    $_unbindEvents(events) {\n      events.forEach(eventName => {\n        this.map.off(eventName, this.$_emitMapEvent);\n      });\n    },\n  },\n};\n","import promisify from \"map-promisified\";\n\nexport default {\n  created() {\n    this.actions = {};\n  },\n\n  methods: {\n    $_registerAsyncActions(map) {\n      this.actions = {\n        ...promisify(map),\n        stop() {\n          this.map.stop();\n          const updatedProps = {\n            pitch: this.map.getPitch(),\n            zoom: this.map.getZoom(),\n            bearing: this.map.getBearing(),\n            center: this.map.getCenter(),\n          };\n          Object.entries(updatedProps).forEach(prop => {\n            this.$_updateSyncedPropsFabric(prop[0], prop[1])();\n          });\n\n          return Promise.resolve(updatedProps);\n        },\n      };\n    },\n  },\n};\n","<template>\n  <!-- class=\"mgl-map-wrapper\" -->\n  <div\n    id=\"map-container\"\n    :class=\"mapContainerClass + ' mgl-map-wrapper'\"\n  >\n    <div\n      v-once\n      :id=\"container\"\n      ref=\"container\"\n    />\n    <slot v-if=\"initialized\" />\n  </div>\n</template>\n\n<script>\nimport withEvents from \"../lib/withEvents\";\nimport mapEvents from \"./events\";\nimport options from \"./options\";\nimport withWatchers from \"./mixins/withWatchers\";\nimport withPrivateMethods from \"./mixins/withPrivateMethods\";\nimport withAsyncActions from \"./mixins/withAsyncActions\";\n\nexport default {\n  name: \"GlMap\",\n\n  mixins: [ withWatchers, withAsyncActions, withPrivateMethods, withEvents ],\n\n  props: {\n    mapboxGl: {\n      type: Object,\n      default: null,\n    },\n    ...options,\n  },\n\n  provide() {\n    // console.log('GlMap.vue provide is running, this.mapbox:', this.mapbox);\n    const self = this;\n    return {\n      get mapbox() {\n        // console.log('GlMap.vue provide mapbox running')\n        return self.mapbox;\n      },\n      get map() {\n        // console.log('GlMap.vue provide map running')\n        return self.map;\n      },\n      get actions() {\n        // console.log('GlMap.vue provide actions running')\n        return self.actions;\n      },\n    };\n  },\n\n  data() {\n    return {\n      initial: true,\n      initialized: false,\n    };\n  },\n  computed: {\n    cyclomediaActive() {\n      let value;\n      if (this.$store.state.cyclomedia) {\n        value = this.$store.state.cyclomedia.active;\n      }\n      return value;\n    },\n    pictometryActive() {\n      let value;\n      if (this.$store.state.pictometry) {\n        value = this.$store.state.pictometry.active;\n      }\n      return value;\n    },\n    picOrCycloActive() {\n      if (this.cyclomediaActive || this.pictometryActive) {\n        return true;\n      }\n      return false;\n    },\n    mapContainerClass() {\n      let value;\n      if (this.$config) {\n        if (this.picOrCycloActive && (this.$config.cyclomedia.orientation === 'horizontal' || this.$config.pictometry.orientation === 'horizontal')) {\n          if (this.$config.map.containerClassWCyclo) {\n            value = this.$config.map.containerClassWCyclo;\n          } else {\n            value = 'height50';\n          }\n        } else if (this.picOrCycloActive) {\n          if (this.$config.map.containerClassWCyclo) {\n            value = this.$config.map.containerClassWCyclo;\n          } else {\n            value = 'height50';\n          }\n        } else if (this.$config.map.containerClass) {\n          value = this.$config.map.containerClass;\n        } else {\n          value = 'map-container';\n        }\n      }\n      return value;\n    },\n    loaded() {\n      // console.log('computed loaded, this.map:', this.map);\n      return this.map ? this.map.loaded() : false;\n    },\n    version() {\n      return this.map ? this.map.version : null;\n    },\n    isStyleLoaded() {\n      // console.log('computed isStyleLoaded, this.map:', this.map);\n      return this.map ? this.map.isStyleLoaded() : false;\n    },\n    areTilesLoaded() {\n      return this.map ? this.map.areTilesLoaded() : false;\n    },\n    isMoving() {\n      return this.map ? this.map.isMoving() : false;\n    },\n    canvas() {\n      return this.map ? this.map.getCanvas() : null;\n    },\n    canvasContainer() {\n      return this.map ? this.map.getCanvasContainer() : null;\n    },\n    images() {\n      return this.map ? this.map.listImages() : null;\n    },\n  },\n\n  created() {\n    this.map = null;\n    this.propsIsUpdating = {};\n    this.mapboxPromise = this.mapboxGl\n      ? Promise.resolve(this.mapboxGl)\n      : import(\"mapbox-gl\");\n    // console.log('end of GlMap.vue created');\n  },\n\n  mounted() {\n    // this.$props.accessToken = process.env.VUE_APP_MAPBOX_ACCESSTOKEN;\n    console.log('GlMap.vue mounted, this:', this);\n    this.$_loadMap().then(map => {\n      // console.log('inside $_loadMap then, map:', map);\n      this.map = map;\n      // this.$store.commit('setMap', map);\n      if (this.RTLTextPluginUrl !== undefined) {\n        this.mapbox.setRTLTextPlugin(\n          this.RTLTextPluginUrl,\n          this.$_RTLTextPluginError,\n        );\n      }\n      const eventNames = Object.keys(mapEvents);\n      this.$_bindMapEvents(eventNames);\n      this.$_registerAsyncActions(map);\n      this.$_bindPropsUpdateEvents();\n      this.initial = false;\n      this.initialized = true;\n\n      // console.log('still inside $_loadMap 2');\n      this.testMethod(map);\n      // console.log('still inside $_loadMap 3');\n\n      this.$emit(\"load\", { map, component: this });\n\n\n      // console.log('still going, this.$children.length:', this.$children.length);\n      // for (let child of this.$children) {\n      //   console.log('child:', child);\n      //   // REVIEW it seems weird to pass children their own props. trying to\n      //   // remember why this was necessary... binding issue?\n      //   child.parentMounted(this, child.$props);\n      // }\n\n    });\n\n\n    // this.$nextTick(() => {\n    //   console.log('end of GlMap mounted, this.$children.length:', this.$children.length);\n    // });\n  },\n\n  beforeDestroy() {\n    this.$nextTick(() => {\n      if (this.map) {\n        this.map.remove();\n      }\n    });\n  },\n\n  methods: {\n    testMethod(map) {\n      // const map = this.$store.state.map.map;\n      this.$nextTick(() => {\n        // console.log('testMethod, map:', map);\n        // console.log('testMethod 2, this.$children.length:', this.$children.length, 'this.$children:', this.$children);\n        for (let child of this.$children) {\n          // console.log('child:', child);\n          if (child.parentMounted) {\n            child.parentMounted(this, child.$props);\n          }\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style>\n\n.map-container {\n  height: 100%;\n}\n\n.height50 {\n  height: 50%;\n}\n\n.mgl-map-wrapper {\n  /* height: 100%; */\n  position: relative;\n  width: 100%;\n}\n\n.mgl-map-wrapper .mapboxgl-map {\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../../thread-loader/dist/cjs.js!../../../../../babel-loader/lib/index.js!../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../vue-loader/lib/index.js??vue-loader-options!./GlMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../../thread-loader/dist/cjs.js!../../../../../babel-loader/lib/index.js!../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../vue-loader/lib/index.js??vue-loader-options!./GlMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GlMap.vue?vue&type=template&id=369ebf88&\"\nimport script from \"./GlMap.vue?vue&type=script&lang=js&\"\nexport * from \"./GlMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GlMap.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n  methods: {\n    /**\n     * Emit Vue event with additional data\n     *\n     * @param {string} name EventName\n     * @param {Object} [data={}] Additional data\n     */\n    $_emitEvent(name, data = {}) {\n      // console.log('$_emitEvent is running, name:', name, 'data:', data, 'this.map:', this.map);\n      this.$emit(name, {\n        map: this.map,\n        component: this,\n        ...data,\n      });\n    },\n\n    /**\n     * Emit Vue event with Mapbox event as additional data\n     *\n     * @param {Object} event\n     */\n    $_emitMapEvent(event, data = {}) {\n      // console.log('withEvents.js, $_emitMapEvent is running');\n      this.$_emitEvent(event.type, { mapboxEvent: event, ...data });\n    },\n  },\n};\n"],"sourceRoot":""}