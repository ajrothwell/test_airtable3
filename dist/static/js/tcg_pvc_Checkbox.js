(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tcg_pvc_Checkbox"],{"349e":function(e,t,a){},"3fe6":function(e,t,a){},"44c2":function(e,t,a){"use strict";var s=a("3fe6"),i=a.n(s);i.a},"8cb9":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.checkboxClass},[a("div",{staticClass:"div-row"},[e.shouldShowDataLink?a("a",{attrs:{href:"http://metadata.phila.gov/#home/representationdetails/"+e.bennyId,target:"_blank"}},[a("span",[a("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:"info-circle"}})],1)]):e._e(),e.shouldShowDataLinks&&!e.shouldShowDataLink?a("div",{staticClass:"missing-data-link"}):e._e(),a("input",{class:{disabled:e.shouldBeDisabled},attrs:{id:"checkbox-"+e.layerName,layerid:e.layerId,disabled:e.shouldBeDisabled,type:"checkbox"},domProps:{checked:e.webMapActiveLayers.includes(e.layerName)},on:{click:e.checkboxToggle}}),a("label",{class:{disabled:e.shouldBeDisabled,"label-text":e.shouldShowDataLink,"label-text-no-datalinks":!e.shouldShowDataLink},attrs:{for:"checkbox-"+e.layerName}},[a("div",{staticClass:"layer-name"},[e._v(e._s(e.layerName))])])]),this.$store.state.map.webMapActiveLayers.includes(e.layerName)&&e.computedShouldShowLegendBox?a("legend-box",{attrs:{layer:e.layer,"layer-name":e.layerName,"layer-id":e.layerId,"layer-definition":e.layerDefinition,legend:e.legend,scales:this.$config.map.scales}}):e._e(),this.$store.state.map.webMapActiveLayers.includes(e.layerName)&&e.computedShouldShowSlider?a("slider",{attrs:{layer:e.layer,"layer-name":e.layerName,"layer-id":e.layerId,opacity:e.opacity}}):e._e(),this.$store.state.map.webMapActiveLayers.includes(e.layerName)?a("topic-component-group",{attrs:{"topic-components":e.options.components}}):e._e()],1)},i=[],r=(a("e8fd"),a("3e17"),a("1c7d"),a("b28b"),a("5d53"),a("44e9"),a("97cc"),a("f0c9"),a("b85c")),o=a("0524"),n=a("89a9"),l=a("afd4"),c=a("a22a"),p={components:{TopicComponentGroup:n["default"],LegendBox:l["default"],Slider:c["default"]},mixins:[o["a"]],props:["layer","layerName","layerId","layerDefinition","opacity","legend","tags","shouldShowDataLinks"],data:function(){return{opa:100*this.$props.opacity}},computed:{checkboxClass:function(){return this.webMapActiveLayers.includes(this.$props.layerName)?"main-div-selected":"main-div"},computedShouldShowLegendBox:function(){return!this.$props.options||(!Object.keys(this.$props.options).includes("shouldShowLegendBox")||this.$props.options.shouldShowLegendBox)},computedShouldShowSlider:function(){return!this.$props.options||(!Object.keys(this.$props.options).includes("shouldShowSlider")||this.$props.options.shouldShowSlider)},matchingTags:function(){var e=[];if(null!==this.$props.tags&&""!==this.inputTagsFilter){var t,a=Object(r["a"])(this.$props.tags);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.toLowerCase().includes(this.inputTagsFilter.toLowerCase())&&e.push(s)}}catch(i){a.e(i)}finally{a.f()}}return e},inputTagsFilter:function(){return this.$store.state.layers.inputTagsFilter},scale:function(){return this.$store.state.map.scale},shouldBeDisabled:function(){var e,t=this.$props.layerDefinition;return t?t.minScale&&(e=this.scale>t.minScale):e=!1,e},layerUrls:function(){return this.$store.state.layers.layerUrls},bennyEndpoints:function(){return this.$store.state.bennyEndpoints},url:function(){return this.layerUrls[this.$props.layerName]},shouldShowDataLink:function(){return!(!this.bennyId||!this.$props.shouldShowDataLinks)},bennyId:function(){if(Object.keys(this.bennyEndpoints).length>0){var e=this.bennyEndpoints[this.url];return e}return" "},webMapUrlLayer:function(){return this.$store.state.map.webMapUrlLayer},webMapActiveLayers:function(){return this.$store.state.map.webMapActiveLayers},webMapDisplayedLayers:function(){return this.$store.state.map.webMapDisplayedLayers},webMapGeoJson:function(){return this.$store.state.map.webMapGeoJson}},watch:{opa:function(e){var t={layerName:this.$props.layerName,opa:e/100};this.$store.commit("setWebMapLayersOpacity",t)},shouldBeDisabled:function(e){this.webMapActiveLayers.includes(this.$props.layerName)&&!0===e?this.removeFromWebMapDisplayedLayers():this.webMapActiveLayers.includes(this.$props.layerName)&&!1===e&&this.addToWebMapDisplayedLayers()}},methods:{trim:function(e){return(e||"").replace(/^\s+|\s+$/g,"")},checkboxToggle:function(e){console.log("checkboxToggle",e.target,e.target.id,e.target.checked);var t=this.webMapUrlLayer,a=this.webMapActiveLayers,s=this.webMapDisplayedLayers,i=e.target.id.replace("checkbox-","");if(e.target.checked)console.log("target checked, targetReplace:",i),a.push(i),s.push(i),1===a.length&&this.$store.commit("setWebMapUrlLayer",i);else{console.log("target not checked");var r=a.indexOf(i);r>=0&&a.splice(r,1);var o=s.indexOf(i);o>=0&&s.splice(o,1),t===i&&this.$store.commit("setWebMapUrlLayer",null)}this.$store.commit("setWebMapActiveLayers",a),this.$store.commit("setWebMapDisplayedLayers",s)},removeFromWebMapDisplayedLayers:function(){var e=this.webMapDisplayedLayers,t=e.indexOf(this.$props.layerName);t>=0&&e.splice(t,1),this.$store.commit("setWebMapDisplayedLayers",e)},addToWebMapDisplayedLayers:function(){var e=this.webMapDisplayedLayers;e.push(this.$props.layerName),this.$store.commit("setWebMapDisplayedLayers",e)}}},d=p,h=(a("44c2"),a("2877")),u=Object(h["a"])(d,s,i,!1,null,"0ab9958f",null);t["default"]=u.exports},c045:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.checkboxClass},[a("div",{staticClass:"div-row"},[e.shouldShowDataLink?a("a",{attrs:{href:"http://metadata.phila.gov/#home/representationdetails/"+e.bennyId,target:"_blank"}},[a("span",[a("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:"info-circle"}})],1)]):e._e(),e.shouldShowDataLinks&&!e.shouldShowDataLink?a("div",{staticClass:"missing-data-link"}):e._e(),a("input",{class:{disabled:e.shouldBeDisabled},attrs:{id:"checkbox-"+e.layerName,layerid:e.layerId,disabled:e.shouldBeDisabled,type:"checkbox"},domProps:{checked:e.webMapActiveLayers.includes(e.layerName)},on:{click:e.checkboxToggle}}),a("label",{class:{disabled:e.shouldBeDisabled,"label-text":e.shouldShowDataLink,"label-text-no-datalinks":!e.shouldShowDataLink},attrs:{for:"checkbox-"+e.layerName}},[a("div",{staticClass:"layer-name"},[e._v(e._s(e.layerName))])])]),this.$store.state.map.webMapActiveLayers.includes(e.layerName)&&e.computedShouldShowLegendBox?a("legend-box",{attrs:{layer:e.layer,"layer-name":e.layerName,"layer-id":e.layerId,"layer-definition":e.layerDefinition,legend:e.legend,scales:this.$config.map.scales}}):e._e(),this.$store.state.map.webMapActiveLayers.includes(e.layerName)&&e.computedShouldShowSlider?a("slider",{attrs:{layer:e.layer,"layer-name":e.layerName,"layer-id":e.layerId,opacity:e.opacity}}):e._e(),this.$store.state.map.webMapActiveLayers.includes(e.layerName)?a("topic-component-group",{attrs:{"topic-components":e.options.components}}):e._e()],1)},i=[],r=(a("caad"),a("c975"),a("d81d"),a("a434"),a("b64b"),a("ac1f"),a("2532"),a("5319"),a("b85c")),o=a("f076"),n=a("076f"),l=a("5b50"),c=a("d37c"),p={components:{TopicComponentGroup:n["default"],LegendBox:l["default"],Slider:c["default"]},mixins:[o["a"]],props:["layer","layerName","layerId","layerDefinition","opacity","legend","tags","shouldShowDataLinks"],data:function(){return{opa:100*this.$props.opacity}},computed:{checkboxClass:function(){return this.webMapActiveLayers.includes(this.$props.layerName)?"main-div-selected":"main-div"},computedShouldShowLegendBox:function(){return!this.$props.options||(!Object.keys(this.$props.options).includes("shouldShowLegendBox")||this.$props.options.shouldShowLegendBox)},computedShouldShowSlider:function(){return!this.$props.options||(!Object.keys(this.$props.options).includes("shouldShowSlider")||this.$props.options.shouldShowSlider)},matchingTags:function(){var e=[];if(null!==this.$props.tags&&""!==this.inputTagsFilter){var t,a=Object(r["a"])(this.$props.tags);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.toLowerCase().includes(this.inputTagsFilter.toLowerCase())&&e.push(s)}}catch(i){a.e(i)}finally{a.f()}}return e},inputTagsFilter:function(){return this.$store.state.layers.inputTagsFilter},scale:function(){return this.$store.state.map.scale},shouldBeDisabled:function(){var e,t=this.$props.layerDefinition;return t?t.minScale&&(e=this.scale>t.minScale):e=!1,e},layerUrls:function(){return this.$store.state.layers.layerUrls},bennyEndpoints:function(){return this.$store.state.bennyEndpoints},url:function(){return this.layerUrls[this.$props.layerName]},shouldShowDataLink:function(){return!(!this.bennyId||!this.$props.shouldShowDataLinks)},bennyId:function(){if(Object.keys(this.bennyEndpoints).length>0){var e=this.bennyEndpoints[this.url];return e}return" "},webMapUrlLayer:function(){return this.$store.state.map.webMapUrlLayer},webMapActiveLayers:function(){return this.$store.state.map.webMapActiveLayers},webMapDisplayedLayers:function(){return this.$store.state.map.webMapDisplayedLayers},webMapGeoJson:function(){return this.$store.state.map.webMapGeoJson}},watch:{opa:function(e){var t={layerName:this.$props.layerName,opa:e/100};this.$store.commit("setWebMapLayersOpacity",t)},shouldBeDisabled:function(e){this.webMapActiveLayers.includes(this.$props.layerName)&&!0===e?this.removeFromWebMapDisplayedLayers():this.webMapActiveLayers.includes(this.$props.layerName)&&!1===e&&this.addToWebMapDisplayedLayers()}},methods:{trim:function(e){return(e||"").replace(/^\s+|\s+$/g,"")},checkboxToggle:function(e){console.log("checkboxToggle",e.target,e.target.id,e.target.checked);var t=this.webMapUrlLayer,a=this.webMapActiveLayers,s=this.webMapDisplayedLayers,i=e.target.id.replace("checkbox-","");if(e.target.checked)console.log("target checked, targetReplace:",i),a.push(i),s.push(i),1===a.length&&this.$store.commit("setWebMapUrlLayer",i);else{console.log("target not checked");var r=a.indexOf(i);r>=0&&a.splice(r,1);var o=s.indexOf(i);o>=0&&s.splice(o,1),t===i&&this.$store.commit("setWebMapUrlLayer",null)}this.$store.commit("setWebMapActiveLayers",a),this.$store.commit("setWebMapDisplayedLayers",s)},removeFromWebMapDisplayedLayers:function(){var e=this.webMapDisplayedLayers,t=e.indexOf(this.$props.layerName);t>=0&&e.splice(t,1),this.$store.commit("setWebMapDisplayedLayers",e)},addToWebMapDisplayedLayers:function(){var e=this.webMapDisplayedLayers;e.push(this.$props.layerName),this.$store.commit("setWebMapDisplayedLayers",e)}}},d=p,h=(a("c9a2"),a("2877")),u=Object(h["a"])(d,s,i,!1,null,"5a0b8021",null);t["default"]=u.exports},c9a2:function(e,t,a){"use strict";var s=a("349e"),i=a.n(s);i.a}}]);
//# sourceMappingURL=tcg_pvc_Checkbox.js.map