(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mbmp_pvm_CyclomediaSvgViewConeMarker"],{"4aac":function(t,e,i){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var o=i("1d80"),n=i("5899"),r="["+n+"]",c=RegExp("^"+r+r+"*"),l=RegExp(r+r+"*$"),a=function(t){return function(e){var i=String(o(e));return 1&t&&(i=i.replace(c,"")),2&t&&(i=i.replace(l,"")),i}};t.exports={start:a(1),end:a(2),trim:a(3)}},7156:function(t,e,i){var o=i("861d"),n=i("d2bb");t.exports=function(t,e,i){var r,c;return n&&"function"==typeof(r=e.constructor)&&r!==i&&o(c=r.prototype)&&c!==i.prototype&&n(t,c),t}},"76dd":function(t,e,i){"use strict";i.r(e);i("d81d");var o,n,r=i("e11e"),c=(i("a9e3"),i("ac1f"),i("5319"),r["DivIcon"].extend({options:{circleText:"",className:"svg-icon",circleAnchor:null,circleColor:null,circleOpacity:null,circleFillColor:"rgb(255,255,255)",circleFillOpacity:null,circleRatio:.5,circleWeight:null,color:"rgb(0,102,255)",fillColor:null,fillOpacity:.4,fontColor:"rgb(0, 0, 0)",fontOpacity:"1",fontSize:null,iconAnchor:null,iconSize:r["point"](32,48),opacity:1,popupAnchor:null,weight:2},initialize:function(t){t=r["Util"].setOptions(this,t),t.circleAnchor||(t.circleAnchor=r["point"](Number(t.iconSize.x)/2,Number(t.iconSize.x)/2)),t.circleColor||(t.circleColor=t.color),t.circleFillOpacity||(t.circleFillOpacity=t.opacity),t.circleOpacity||(t.circleOpacity=t.opacity),t.circleWeight||(t.circleWeight=t.weight),t.fillColor||(t.fillColor=t.color),t.fontSize||(t.fontSize=Number(t.iconSize.x/4)),t.iconAnchor||(t.iconAnchor=r["point"](Number(t.iconSize.x)/2,Number(t.iconSize.y))),t.popupAnchor||(t.popupAnchor=r["point"](0,-.75*t.iconSize.y));this._createPath(),this._createCircle();t.html=this._createSVG()},_createCircle:function(){var t=Number(this.options.circleAnchor.x),e=Number(this.options.circleAnchor.y),i=this.options.iconSize.x/2*Number(this.options.circleRatio),o=this.options.circleFillColor.replace("rgb(","rgba(").replace(")",","+this.options.circleFillOpacity+")"),n=this.options.circleColor.replace("rgb(","rgba(").replace(")",","+this.options.circleOpacity+")"),r=this.options.circleWeight,c=this.options.className+"-circle",l='<circle class="'+c+'" cx="'+t+'" cy="'+e+'" r="'+i+'" fill="'+o+'" stroke="'+n+'" stroke-width="'+r+'"/>';return l},_createPathDescription:function(){var t=Number(this.options.iconSize.y),e=Number(this.options.iconSize.x),i=Number(this.options.weight),o=i/2,n="M "+o+" "+e/2+" ",r="L "+e/2+" "+(t-i)+" ",c="L "+(e-o)+" "+e/2+" ",l="A "+e/4+" "+e/4+" 0 0 0 "+o+" "+e/2+" Z",a=n+r+c+l;return a},_createPath:function(){var t=this._createPathDescription(),e=this.options.weight,i=this.options.color.replace("rgb(","rgba(").replace(")",","+this.options.opacity+")"),o=this.options.fillColor.replace("rgb(","rgba(").replace(")",","+this.options.fillOpacity+")"),n=this.options.className+"-path",r='<path class="'+n+'" d="'+t+'" stroke-width="'+e+'" stroke="'+i+'" fill="'+o+'"/>';return r},_createSVG:function(){var t=this._createPath(),e=this._createCircle(),i=this._createText(),o=this.options.className+"-svg",n="width:"+this.options.iconSize.x+"; height:"+this.options.iconSize.y+";",r='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="'+o+'" style="'+n+'">'+t+e+i+"</svg>";return r},_createText:function(){var t=this.options.fontSize+"px",e=Number(this.options.fontSize),i=Number(this.options.iconSize.x)/2,o=i+.35*e,n=this.options.circleText,r=this.options.fontColor.replace("rgb(","rgba(").replace(")",","+this.options.fontOpacity+")"),c='<text text-anchor="middle" x="'+i+'" y="'+o+'" style="font-size: '+t+'" fill="'+r+'">'+n+"</text>";return c}})),l=c,a=l.extend({initialize:function(t){t=r["Util"].setOptions(this,t);var e=r["point"](Number(t.iconSize.x)/2,Number(t.iconSize.y)/2);return t.circleAnchor=e,t.circleRatio=0,t.className=t.className+"-noClick",l.prototype.initialize.call(this,t),t},_createPathDescription:function(){var t=Number(this.options.iconSize.y),e=Number(this.options.iconSize.x),i=Number(this.options.weight),o=i,n="M "+o+" 0 ",r="L "+e/2+" "+(t-o)+" ",c="L "+(e-o)+" 0 Z",l=n+r+c;return l}}),s=a,h={name:"SvgViewConeMarker",props:["latlng","rotationAngle","hFov"],computed:{coneCoords:function(){var t=50,e=this.hFov/2,i=Math.sin(e*Math.PI/180),o=Math.sqrt(1-i*i),n=[i*t,o*t];return n}},watch:{rotationAngle:function(t){if(this.latlng){this.$leafletElement&&this.$leafletElement._map&&this.$leafletElement._map.removeLayer(this.$leafletElement);var e=this.$leafletElement=this.createLeafletElement(),i=this.$store.state.map.map;i&&e.addTo(i)}},latlng:function(t){this.$leafletElement&&this.$leafletElement._map&&this.$leafletElement._map.removeLayer(this.$leafletElement);var e=this.$leafletElement=this.createLeafletElement(),i=this.$store.state.map.map;i&&e.addTo(i)}},mounted:function(){if(this.latlng){var t=this.$leafletElement=this.createLeafletElement(),e=this.$store.state.map.map;e&&t.addTo(e)}},destroyed:function(){this.$leafletElement._map.removeLayer(this.$leafletElement)},methods:{createLeafletElement:function(){console.log("SvgViewConeMarker createLeafletElement, this.latlng:",this.latlng);this.coneCoords;var t=new s({iconSize:r["point"](this.coneCoords[0],this.coneCoords[1]),iconAnchor:[this.coneCoords[0]/2,this.coneCoords[1]]});return r["marker"](this.latlng,{icon:t,rotationAngle:this.rotationAngle})},parentMounted:function(t){var e=t.$leafletElement;this.$leafletElement.addTo(e)}},render:function(t){}},p=h,u=(i("d7d5"),i("2877")),f=Object(u["a"])(p,o,n,!1,null,null,null);e["default"]=f.exports},a9e3:function(t,e,i){"use strict";var o=i("83ab"),n=i("da84"),r=i("94ca"),c=i("6eeb"),l=i("5135"),a=i("c6b6"),s=i("7156"),h=i("c04e"),p=i("d039"),u=i("7c73"),f=i("241c").f,m=i("06cf").f,g=i("9bf2").f,d=i("58a8").trim,b="Number",N=n[b],v=N.prototype,y=a(u(v))==b,E=function(t){var e,i,o,n,r,c,l,a,s=h(t,!1);if("string"==typeof s&&s.length>2)if(s=d(s),e=s.charCodeAt(0),43===e||45===e){if(i=s.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:o=2,n=49;break;case 79:case 111:o=8,n=55;break;default:return+s}for(r=s.slice(2),c=r.length,l=0;l<c;l++)if(a=r.charCodeAt(l),a<48||a>n)return NaN;return parseInt(r,o)}return+s};if(r(b,!N(" 0o1")||!N("0b1")||N("+0x1"))){for(var S,x=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof x&&(y?p((function(){v.valueOf.call(i)})):a(i)!=b)?s(new N(E(e)),i,x):E(e)},C=o?f(N):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;C.length>A;A++)l(N,S=C[A])&&!l(x,S)&&g(x,S,m(N,S));x.prototype=v,v.constructor=x,c(n,b,x)}},d7d5:function(t,e,i){"use strict";var o=i("4aac"),n=i.n(o);n.a}}]);
//# sourceMappingURL=mbmp_pvm_CyclomediaSvgViewConeMarker.js.map