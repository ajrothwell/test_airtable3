{"version":3,"sources":["webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/TopicComponent.vue","webpack:///node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/TopicComponent.vue","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/TopicComponent.vue?3b63","webpack:///./node_modules/@phila/pinboard/src/components/Greeting.vue?6df8","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/Callout.vue?4391","webpack:///node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/Callout.vue","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/Callout.vue?bbd4","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/Callout.vue","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/Callout.vue?8592","webpack:///./node_modules/@phila/pinboard/src/components/Greeting.vue?c47e","webpack:///node_modules/@phila/pinboard/src/components/Greeting.vue","webpack:///./node_modules/@phila/pinboard/src/components/Greeting.vue?5f69","webpack:///./node_modules/@phila/pinboard/src/components/Greeting.vue"],"names":["render","staticRenderFns","props","type","Object","default","computed","nullValue","options","beforeCreate","created","methods","evaluateSlot","valOrGetter","valOrGetterType","val","item","getter","state","controller","obj","key","window","component","_vm","this","_h","$createElement","_c","_self","staticClass","class","calloutClass","domProps","_s","message","_e","attrs","components","TopicComponentGroup","mixins","$props","value","slots","text","addressAutocompleteEnabled","shouldShowAddressInput","$t","nativeOn","$event","$emit","hasError","i18nEnabled","errorMessage","_l","topicComp","tag","name","PhilaButton","callout","Image_","AddressInput","AddressCandidateList","String","data","sections","subsections","$config","i18n","enabled","calloutOptions","calloutSlots","database","$store","sources","$appType","rows","features","addressInputLocation","addressInput","autocompleteEnabled","greetingConfig","geocode","status","watch","commit","mounted","getCounts","refineData","forEach","arrayElem","services_offered","service","serviceArray","map","acc","curr","countObject"],"mappings":"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","file":"static/js/pb_Greeting.js","sourcesContent":["var render, staticRenderFns\nimport script from \"./TopicComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./TopicComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\nexport default {\r\n  // props: ['slots', 'options', 'item'],\r\n  props: {\r\n    'slots': {\r\n      type: Object,\r\n      default: function() {\r\n        return {};\r\n      },\r\n    },\r\n    'options': {\r\n      type: Object,\r\n      default: function() {\r\n        return {};\r\n      },\r\n    },\r\n    'item': {\r\n      type: Object,\r\n      default: function() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  computed: {\r\n    nullValue() {\r\n      const options = this.options || {};\r\n      return options.nullValue;\r\n    },\r\n  },\r\n  beforeCreate() {\r\n    // console.log('TopicComponent.vue beforeCreate is running, this:', this);\r\n  },\r\n  created() {\r\n    // console.log('TopicComponent.vue created is running, this.$props.slots:', this.$props.slots);\r\n  },\r\n  methods: {\r\n    evaluateSlot(valOrGetter, transforms = [], nullValue = '') {\r\n      // console.log('evaluateSlot is running, this.item:', this.item, 'valOrGetter:', valOrGetter);\r\n      // check for null val/getter\r\n      if (!valOrGetter) {\r\n        return valOrGetter;\r\n      }\r\n\r\n      const valOrGetterType = typeof valOrGetter;\r\n      let val;\r\n\r\n      // fn\r\n      if (valOrGetterType === 'function') {\r\n        const state = this.$store.state;\r\n        const controller = this.$controller;\r\n        const getter = valOrGetter;\r\n\r\n        // const getterText = String(getter);\r\n        // const depsRe = /state(\\.\\w+)+/g;\r\n        // const depsText = getterText.match(depsRe);\r\n        // const deps = depsText.map(eval);\r\n\r\n        const item = this.item;\r\n        // console.log('in evaluateSlot, item:', item);\r\n\r\n        // if this comp is associated with an \"item\" (generally some object\r\n        // from a list of things, e.g. dor parcels), pass the item itself\r\n        // as well when evaluating\r\n        if (item) {\r\n          val = getter(state, item, controller);\r\n        } else {\r\n          // console.log('evaluateSlot, about to get value');\r\n          val = getter(state);\r\n          // console.log('state:', state, 'val:', val);\r\n        }\r\n      } else {\r\n        val = valOrGetter;\r\n      }\r\n\r\n      // format nulls but not falses\r\n      if (val === false) {\r\n        // no action\r\n      // } else if (!val) {\r\n      //   return nullValue;\r\n      // }\r\n      } else if (!transforms.includes('currency') && !val) {\r\n        return nullValue;\r\n      }\r\n\r\n      // apply transforms\r\n      for (let transformKey of transforms) {\r\n        // get transform definition from config by name\r\n        const transform = this.$config.transforms[transformKey];\r\n        // make object of (relevant) globals by filtering window object\r\n        let globals;\r\n        const globalKeys = transform.globals;\r\n        if (globalKeys) {\r\n          globals = Object.keys(window)\r\n            .filter(key => globalKeys.includes(key))\r\n            .reduce((obj, key) => {\r\n              obj[key] = window[key];\r\n              return obj;\r\n            }, {});\r\n        }\r\n        // run transform\r\n        const fn = transform.transform;\r\n        val = fn(val, globals);\r\n      }\r\n\r\n      return val;\r\n    },\r\n\r\n    // not sure how children can use this. `this` isn't binding correctly at\r\n    // the time the child gets instantiated.\r\n    // getComputedProperties() {\r\n    //   const slots = this.slots;\r\n    //   return Object.keys(slots).reduce((o, key) => {\r\n    //     const valOrGetter = slots[key];\r\n    //     // wrap slot val/getter in evaluator fn\r\n    //     o[key] = () => {\r\n    //       this.evaluateSlot(valOrGetter);\r\n    //     }\r\n    //     return o;\r\n    //   }, {});\r\n    // }\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../../../../thread-loader/dist/cjs.js!../../../../../../../babel-loader/lib/index.js!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./TopicComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../../../../thread-loader/dist/cjs.js!../../../../../../../babel-loader/lib/index.js!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./TopicComponent.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./Greeting.vue?vue&type=style&index=0&id=30c3b0aa&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./Greeting.vue?vue&type=style&index=0&id=30c3b0aa&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper grid-y\"},[_c('div',{class:'callout ' + _vm.calloutClass},[(_vm.message)?_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.message)}}):_vm._e(),(_vm.components)?_c('topic-component-group',{attrs:{\"topic-components\":_vm.components}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrapper grid-y\">\r\n    <!-- <div class=\"callout columns small-24\"> -->\r\n    <div :class=\"'callout ' + calloutClass\">\r\n      <p\r\n        v-if=\"message\"\r\n        v-html=\"message\"\r\n      />\r\n      <topic-component-group\r\n        v-if=\"components\"\r\n        :topic-components=\"components\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopicComponent from './TopicComponent.vue';\r\n// import TopicComponentGroup from './TopicComponentGroup.vue'\r\n\r\nexport default {\r\n  components: {\r\n    TopicComponentGroup: () => import(/* webpackChunkName: \"pvc_TopicComponentGroup\" */'./TopicComponentGroup.vue'),\r\n  },\r\n  mixins: [ TopicComponent ],\r\n  computed: {\r\n    calloutClass() {\r\n      let value;\r\n      if (this.$props.options) {\r\n        if (this.$props.options.class) {\r\n          value = this.$props.options.class;\r\n        }\r\n        value = 'columns small-24';\r\n      }\r\n      return value;\r\n    },\r\n    message() {\r\n      if (this.$props.slots) {\r\n        return this.evaluateSlot(this.$props.slots.text) || '';\r\n      }\r\n      return '';\r\n\r\n    },\r\n    components() {\r\n      if (this.$props.options) {\r\n        return this.$props.options.components || null;\r\n      }\r\n      return null;\r\n\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.wrapper {\r\n\r\n}\r\n\r\n.callout {\r\n  margin-top: 1rem;\r\n  position: inherit;\r\n  height: auto;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../../../../thread-loader/dist/cjs.js!../../../../../../../babel-loader/lib/index.js!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./Callout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../../../../thread-loader/dist/cjs.js!../../../../../../../babel-loader/lib/index.js!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./Callout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Callout.vue?vue&type=template&id=7030db76&scoped=true&\"\nimport script from \"./Callout.vue?vue&type=script&lang=js&\"\nexport * from \"./Callout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Callout.vue?vue&type=style&index=0&id=7030db76&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7030db76\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./Callout.vue?vue&type=style&index=0&id=7030db76&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./Callout.vue?vue&type=style&index=0&id=7030db76&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"grid-y custom-greeting\"},[(_vm.shouldShowAddressInput)?_c('address-input'):_vm._e(),(_vm.addressAutocompleteEnabled && _vm.shouldShowAddressInput)?_c('address-candidate-list'):_vm._e(),_c('div',{staticClass:\"open-list-div\"},[_c('phila-button',{staticClass:\"button open-list-button\",domProps:{\"innerHTML\":_vm._s(_vm.$t('app.viewList'))},nativeOn:{\"click\":function($event){return _vm.$emit('view-list')}}})],1),_c('div',{staticClass:\"main-area\"},[(!_vm.components && !_vm.hasError && _vm.i18nEnabled)?_c('div',{staticClass:\"greeting\",domProps:{\"innerHTML\":_vm._s(_vm.$t('greeting'))}}):_vm._e(),(!_vm.components && !_vm.hasError && !_vm.i18nEnabled)?_c('div',{staticClass:\"greeting\",domProps:{\"innerHTML\":_vm._s(_vm.message)}}):_vm._e(),(!_vm.components && _vm.hasError)?_c('div',{staticClass:\"greeting greeting-error\",domProps:{\"innerHTML\":_vm._s(_vm.errorMessage)}}):_vm._e(),_c('topic-component-group',{attrs:{\"topic-components\":_vm.options.components,\"item\":_vm.item}}),_vm._l((_vm.components),function(topicComp){return (_vm.components)?_c(topicComp.type,{key:topicComp.type,tag:\"component\",staticClass:\"topic-comp\",attrs:{\"slots\":topicComp.slots}}):_vm._e()})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"grid-y custom-greeting\"\r\n  >\r\n    <!-- <div class=\"exclamation-holder\">\r\n      <font-awesome-icon\r\n        icon=\"exclamation-triangle\"\r\n        class=\"fa-3x fa-icon-class\"\r\n      />\r\n      <div\r\n        class=\"grid-y exclamation-details small-19 medium-20\"\r\n      >\r\n        <div><b>{{ $t('beforeYouGo') }}:</b></div>\r\n        <div>{{ $t('checkSite') }}</div>\r\n      </div>\r\n    </div> -->\r\n    <address-input v-if=\"shouldShowAddressInput\" />\r\n    <address-candidate-list v-if=\"addressAutocompleteEnabled && shouldShowAddressInput\" />\r\n\r\n    <div class=\"open-list-div\">\r\n      <!-- class=\"button open-list-button hide-for-medium\" -->\r\n      <phila-button\r\n        class=\"button open-list-button\"\r\n        @click.native=\"$emit('view-list')\"\r\n        v-html=\"$t('app.viewList')\"\r\n      />\r\n    </div>\r\n\r\n    <div\r\n      class=\"main-area\"\r\n    >\r\n\r\n    <div\r\n      v-if=\"!components && !hasError && i18nEnabled\"\r\n      class=\"greeting\"\r\n      v-html=\"$t('greeting')\"\r\n    />\r\n\r\n    <div\r\n      v-if=\"!components && !hasError && !i18nEnabled\"\r\n      class=\"greeting\"\r\n      v-html=\"message\"\r\n    />\r\n\r\n    <div\r\n      v-if=\"!components && hasError\"\r\n      class=\"greeting greeting-error\"\r\n      v-html=\"errorMessage\"\r\n    />\r\n\r\n    <topic-component-group\r\n      :topic-components=\"options.components\"\r\n      :item=\"item\"\r\n    />\r\n\r\n    <component\r\n      :is=\"topicComp.type\"\r\n      v-for=\"(topicComp) in components\"\r\n      v-if=\"components\"\r\n      :key=\"topicComp.type\"\r\n      :slots=\"topicComp.slots\"\r\n      class=\"topic-comp\"\r\n    />\r\n      <!-- <h1>\r\n        {{ $t('introPage.introTitle') }}\r\n      </h1>\r\n      <p\r\n        v-html=\"$t('introPage.p1')\"\r\n      />\r\n      <ul>\r\n        <li\r\n          v-for=\"(item, index) in $config.i18n.data.messages['en-US'].introPage.ul1\"\r\n          :key=\"index\"\r\n        >\r\n          {{ $t('introPage.ul1.' + index) }}\r\n        </li>\r\n      </ul>\r\n      <h2>\r\n        {{ $t('introPage.section1Title') }}\r\n      </h2>\r\n      <p>\r\n        {{ $t('introPage.p2') }}\r\n      </p>\r\n      <ul>\r\n        <li\r\n          v-for=\"(item, index) in $config.i18n.data.messages['en-US'].introPage.ul2\"\r\n          :key=\"index\"\r\n        >\r\n          {{ $t('introPage.ul2.' + index) }}\r\n        </li>\r\n      </ul>\r\n      <p>\r\n        {{ $t('introPage.p3') }}\r\n      </p>\r\n      <div\r\n        class=\"custom-callout\"\r\n      >\r\n        <p\r\n          class=\"no-margin\"\r\n          v-html=\"$t('introPage.callout1.p1')\"\r\n        />\r\n      </div> -->\n    </div> <!-- end of main-area -->\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport TopicComponent from '@phila/vue-comps/src/components/TopicComponent.vue';\r\nimport PhilaButton from './PhilaButton.vue';\r\nimport callout from '@phila/vue-comps/src/components/Callout.vue';\r\n\r\nexport default {\r\n  name: 'Greeting',\r\n  components: {\r\n    PhilaButton,\r\n    callout,\r\n    Image_: () => import(/* webpackChunkName: \"inGreeting_pvc_Image\" */'@phila/vue-comps/src/components/Image.vue'),\r\n    AddressInput: () => import(/* webpackChunkName: \"inGreeting_pvc_AddressInput\" */'@phila/vue-comps/src/components/AddressInput.vue'),\r\n    AddressCandidateList: () => import(/* webpackChunkName: \"inGreeting_pvc_AddressCandidateList\" */'@phila/vue-comps/src/components/AddressCandidateList.vue'),\r\n    TopicComponentGroup: () => import(/* webpackChunkName: \"inGreeting_pvc_TopicComponentGroup\" */'@phila/vue-comps/src/components/TopicComponentGroup.vue'),\r\n  },\r\n  mixins: [ TopicComponent ],\r\n  props: {\r\n    'message': {\r\n      type: String,\r\n      default: function() {\r\n        return 'defaultMessage';\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    let data = {\r\n      sections: {},\r\n      subsections: {},\r\n    };\r\n    return data;\r\n  },\r\n  computed: {\r\n    i18nEnabled() {\r\n      if (this.$config.i18n && this.$config.i18n.enabled) {\r\n        return true;\r\n      }\r\n      return false;\r\n\r\n    },\r\n    calloutOptions() {\r\n      return {};\r\n    },\r\n    calloutSlots() {\r\n      return {\r\n        text: 'test',\r\n      };\r\n    },\r\n    database() {\r\n      if (this.$store.state.sources[this.$appType].data) {\r\n        return this.$store.state.sources[this.$appType].data.rows || this.$store.state.sources[this.$appType].data.features || this.$store.state.sources[this.$appType].data;\r\n      }\r\n      return [];\r\n\r\n    },\r\n    shouldShowAddressInput() {\r\n      if (this.$config.addressInputLocation == 'topics') {\r\n        return true;\r\n      }\r\n      return false;\r\n\r\n    },\r\n    addressAutocompleteEnabled() {\r\n      // TODO tidy up the code\r\n      if (this.$config.addressInput) {\r\n        if (this.$config.addressInput.autocompleteEnabled === true) {\r\n          return true;\r\n        }\r\n        return false;\r\n\r\n      }\r\n      return false;\r\n\r\n    },\r\n    components() {\r\n      const greetingConfig = this.$config.greeting || {};\r\n      // console.log('Greeting.vue computing components');\r\n      let components;\r\n      if (greetingConfig) {\r\n        // console.log('Greeting.vue inside if, greetingConfig:', greetingConfig);\r\n        components = greetingConfig.components;\r\n      }\r\n      return components;\r\n    },\r\n    hasError() {\r\n      return this.$store.state.geocode.status === 'error';\r\n    },\r\n    errorMessage() {\r\n      const input = this.$store.state.geocode.input;\r\n      return `\r\n          <p>\r\n            We couldn't find\r\n            ${input ? '<strong>' + input + '</strong>' : 'that address'}.\r\n            Are you sure everything was spelled correctly?\r\n          </p>\r\n          <p>\r\n            Here are some examples of things you can search for:\r\n          </p>\r\n          <ul>\r\n            <li>1234 Market St</li>\r\n            <li>1001 Pine Street #201</li>\r\n            <li>12th & Market</li>\r\n            <li>883309050 (an OPA number with no hyphens or other characters)</li>\r\n          </ul>\r\n        `;\r\n    },\r\n  },\r\n  watch: {\r\n    database() {\r\n      let subsections = this.getCounts();\r\n      this.subsections = subsections;\r\n      this.$store.commit('setSubsections', subsections);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.sections = this.$config.sections;\r\n  },\r\n  methods: {\r\n    getCounts() {\r\n      // console.log('customGreeting.vue getCounts is running');\r\n      const refineData = this.database;\r\n      // const refineData = this.sources[this.$appType].data.rows;\r\n\r\n      let service = '';\r\n\r\n      // console.log('in getRefineSearchList, refineData:', refineData);\r\n      refineData.forEach((arrayElem) => {\r\n        // console.log('arrayElem:', arrayElem);\r\n        if (arrayElem.services_offered) {\r\n          service += `${arrayElem.services_offered},`;\r\n        } else if (arrayElem.attributes.CATEGORY) {\r\n          service += `${arrayElem.attributes.CATEGORY},`;\r\n        }\r\n      });\r\n\r\n      // TODO: break this into smaller chunks\r\n      // let serviceArray = service.split(/(,|;)/);\r\n      let serviceArray = service.split(',');\r\n      serviceArray = serviceArray.map(s => s.trim());\r\n\r\n      // const uniqArray = [ ...new Set(serviceArray) ];\r\n      // console.log('serviceArray:', serviceArray, 'uniqArray:', uniqArray);\r\n      //\r\n      // // clean up any dangling , or ;\r\n      // let uniq = uniqArray.filter(a => a.length > 2);\r\n      //\r\n      // uniq.filter(Boolean); // remove empties\r\n\r\n      let countObject = serviceArray.reduce(function (acc, curr) {\r\n        if (typeof acc[curr] == 'undefined') {\r\n          acc[curr] = 1;\r\n        } else {\r\n          acc[curr] += 1;\r\n        }\r\n        return acc;\r\n      }, {});\r\n\r\n      return countObject;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  h1 {\r\n    font-size: 20px;\r\n  }\r\n\r\n  h2 {\r\n    font-size: 16px;\r\n  }\r\n\r\n  .main-area {\r\n    padding: 10px;\r\n  }\r\n\r\n  .custom-callout {\r\n    border-style: solid;\r\n    border-width: 1px;\r\n    padding: 10px;\r\n  }\r\n\r\n  .no-margin {\r\n    margin: 0px;\r\n  }\r\n\r\n  .open-list-div {\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .open-list-button {\r\n    margin-top: 6px;\r\n    margin-bottom: 14px;\r\n    width: 200px;\r\n  }\r\n\r\n  .custom-greeting {\r\n    padding: 12px;\r\n  }\r\n\r\n  .exclamation-holder {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 6px;\r\n    margin-bottom: 14px;\r\n  }\r\n\r\n  .fa-icon-class {\r\n    margin: 0 auto;\r\n    display: block;\r\n  }\r\n\r\n  .exclamation-details {\r\n    margin-left: 14px;\r\n    font-size: 14px;\r\n  }\r\n\r\n  .mb-panel-topics-greeting {\r\n    padding-top: 20px;\r\n  }\r\n\r\n  .greeting {\r\n    font-size: 20px;\r\n    color: #444;\r\n    padding: 14px;\r\n  }\r\n\r\n  .greeting-error {\r\n    border-left-color: #ff0000;\r\n  }\r\n\r\n  .custom-section {\r\n    margin-left: 8px;\r\n    margin-top: 4px;\r\n  }\r\n\r\n  .custom-ul {\r\n    margin-left: 4rem;\r\n    font-size: 14px;\r\n  }\r\n\r\n  /*medium*/\r\n  @media screen and (min-width: 750px) {\r\n    .mb-panel-topics-greeting {\r\n      /*make this scroll on medium screens*/\r\n      /*REVIEW this is a little hacky. the 120px shouldn't be hard-coded.*/\r\n      height: calc(100vh - 120px);\r\n      overflow: auto;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./Greeting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./Greeting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Greeting.vue?vue&type=template&id=30c3b0aa&scoped=true&\"\nimport script from \"./Greeting.vue?vue&type=script&lang=js&\"\nexport * from \"./Greeting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Greeting.vue?vue&type=style&index=0&id=30c3b0aa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30c3b0aa\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}