{"version":3,"sources":["webpack:///./node_modules/@phila/vue-comps/src/components/AddressCandidateList.vue?01a8","webpack:///./node_modules/@phila/vue-comps/src/components/AddressCandidateList.vue?ea3a","webpack:///node_modules/@phila/vue-comps/src/components/AddressCandidateList.vue","webpack:///./node_modules/@phila/vue-comps/src/components/AddressCandidateList.vue?79d3","webpack:///./node_modules/@phila/vue-comps/src/components/AddressCandidateList.vue","webpack:///./node_modules/core-js/modules/es.array.last-index-of.js","webpack:///./node_modules/core-js/internals/array-last-index-of.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","class","listGroupClass","style","_l","candidate","i","key","staticClass","attrs","createLink","on","$event","closeAddressCandidateList","maybeUsedArrow","_v","_s","staticRenderFns","props","data","listStyle","computed","inputWidth","$props","widthFromConfig","candidates","autocompleteMax","$store","state","shouldShowAddressCandidateList","activeTopic","isMobileOrTablet","addressAutocompleteEnabled","$config","addressInput","autocompleteEnabled","addressEntered","watch","handleWindowResize","created","window","addEventListener","methods","indexUp","index","length","indexDown","e","document","getElementById","focus","console","log","addressCandidate","commit","innerWidth","width","component","$","lastIndexOf","target","proto","forced","toIndexedObject","toInteger","toLength","arrayMethodIsStrict","arrayMethodUsesToLength","min","Math","nativeLastIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","FORCED","module","exports","searchElement","apply","arguments","O"],"mappings":"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","file":"static/js/inGreeting_pvc_AddressCandidateList.js","sourcesContent":["import mod from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./AddressCandidateList.vue?vue&type=style&index=0&id=8b215be2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./AddressCandidateList.vue?vue&type=style&index=0&id=8b215be2&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shouldShowAddressCandidateList),expression:\"shouldShowAddressCandidateList\"}],class:_vm.listGroupClass,style:(_vm.listStyle)},[_c('ul',_vm._l((_vm.candidates),function(candidate,i){return _c('li',{key:i},[_c('a',{staticClass:\"list-group-item\",attrs:{\"id\":'address-candidate-list-' + i,\"href\":_vm.createLink(candidate),\"tabindex\":\"-1\"},on:{\"click\":function($event){return _vm.closeAddressCandidateList(candidate)},\"keydown\":_vm.maybeUsedArrow}},[_vm._v(\" \"+_vm._s(candidate)+\" \")])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    v-show=\"shouldShowAddressCandidateList\"\n    :class=\"listGroupClass\"\n    :style=\"listStyle\"\n  >\n    <!-- :style=\"'width: ' + this.inputWidth + 'px;'\" -->\n    <ul>\n      <li\n        v-for=\"(candidate, i) in candidates\"\n        :key=\"i\"\n      >\n        <a\n          :id=\"'address-candidate-list-' + i\"\n          :href=\"createLink(candidate)\"\n          class=\"list-group-item\"\n          tabindex=\"-1\"\n          @click=\"closeAddressCandidateList(candidate)\"\n          @keydown=\"maybeUsedArrow\"\n        >\n          {{ candidate }}\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'AddressCandidateList',\n  props: [\n    'widthFromConfig',\n  ],\n  data() {\n    const data = {\n      listStyle: {\n        'width': '250px',\n      },\n    };\n    return data;\n  },\n  computed: {\n    inputWidth() {\n      return this.$props.widthFromConfig - 55;\n    },\n    candidates() {\n      const autocompleteMax = this.$config.addressInput.autocompleteMax;\n      if (!autocompleteMax) {\n        return this.$store.state.candidates;\n      }\n      let candidates = this.$store.state.candidates.slice(0, autocompleteMax);\n      return candidates;\n\n    },\n    shouldShowAddressCandidateList() {\n      return this.$store.state.shouldShowAddressCandidateList;\n    },\n    activeTopic() {\n      return this.$store.state.activeTopic;\n    },\n    isMobileOrTablet() {\n      return this.$store.state.isMobileOrTablet;\n    },\n    addressAutocompleteEnabled() {\n      // TODO this is temporarily disabled\n      if (this.$config.addressInput) {\n        if (this.$config.addressInput.autocompleteEnabled === true) {\n          return true;\n        }\n        return false;\n\n      }\n      return false;\n\n    },\n    listGroupClass() {\n      if (this.isMobileOrTablet) {\n        if (this.addressAutocompleteEnabled) {\n          if (this.addressEntered === '' || this.addressEntered === null) {\n            return 'list-group-mobile';\n          }\n          return 'list-group-mobile-full';\n\n        }\n        return 'list-group-mobile';\n\n      }\n      if (this.addressAutocompleteEnabled) {\n        if (this.addressEntered === '' || this.addressEntered === null) {\n          return 'list-group';\n        }\n        return 'list-group-full';\n\n      }\n      return 'list-group';\n\n\n    },\n  },\n  watch: {\n    addressEntered(nextValue) {\n      this.handleWindowResize();\n    },\n  },\n  created() {\n    window.addEventListener('resize', this.handleWindowResize);\n    this.handleWindowResize();\n  },\n  methods: {\n    createLink(candidate) {\n      if (this.$store.state.activeTopic) {\n        return '#/' + candidate + '/' + this.activeTopic;\n      }\n      return '#/' + candidate;\n\n    },\n    maybeUsedArrow(e) {\n      const id = e.target.id;\n      const index = parseInt(id.substring(id.lastIndexOf('-') + 1));\n      let indexUp, indexDown;\n      if (index < this.candidates.length - 1) {\n        indexUp = index + 1;\n      } else {\n        (\n          indexUp = index\n        );\n      }\n      if (index !== 0) {\n        indexDown = index - 1;\n      } else {\n        indexDown = 0;\n      }\n      // console.log('maybeUsedArrow running, e:', e, 'index:', index, 'indexUp:', indexUp, 'indexDown:', indexDown);\n      if (e.key === \"ArrowDown\") {\n        document.getElementById('address-candidate-list-' + indexUp).focus();\n      }\n      if (e.key === \"ArrowUp\") {\n        document.getElementById('address-candidate-list-' + indexDown).focus();\n      }\n    },\n    closeAddressCandidateList(addressCandidate) {\n      console.log('AddressCandidateList.vue closeAddressCandidateList is running, addressCandidate:', addressCandidate);\n      this.$store.commit('setAddressEntered', addressCandidate);\n      this.$store.commit('setShouldShowAddressCandidateList', false);\n    },\n    handleWindowResize(addressEntered) {\n      if (window.innerWidth >= 850) {\n        this.listStyle.width = this.$props.widthFromConfig - 55 + 'px';\n      } else if (window.innerWidth >= 750) {\n        this.listStyle.width = this.$props.widthFromConfig - 155 + 'px';\n      } else {\n        this.listStyle.width = '248px';\n      }\n    },\n  },\n};\n\n</script>\n\n<style scoped>\n\n.list-group {\n  display: inline-block;\n  height: 300px;\n  width: 250px;\n  overflow: auto;\n  margin-top: 1px !important;\n}\n\n/* .list-group-full {\n  display: inline-block;\n  height: 300px;\n  width: 197px;\n  overflow: auto;\n  margin-top: 1px !important;\n} */\n\n/* .list-group-mobile {\n  display: inline-block;\n  height: 300px;\n  width: 250px;\n  overflow: auto;\n  margin-top: 1px !important;\n}\n\n.list-group-mobile-full {\n  display: inline-block;\n  height: 300px;\n  width: 197px;\n  overflow: auto;\n  margin-top: 1px !important;\n} */\n\nul {\n  list-style-type: none;\n  margin-left: 0px;\n}\n\n.list-group-item {\n  /* width: 237px; */\n  display: block;\n  border-radius: 2px;\n  box-shadow:0 2px 4px rgba(0,0,0,0.2),0 -1px 0px rgba(0,0,0,0.02);\n  border: 2;\n  background-color: white;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  padding-left: 10px;\n  font-family: 'Montserrat', 'Tahoma', sans-serif;\n  font-size: 14px;\n  font-weight: normal;\n}\n\n.list-group-item:hover {\n  background-color: #ffefa2;\n  font-weight: bold;\n}\n\n/*small*/\n@media screen and (max-width: 39.9375em) {\n  .list-group {\n    width: 200px;\n  }\n\n  .list-group-mobile {\n    width: 200px;\n  }\n\n  .list-group-full {\n    width: 147px;\n  }\n\n  .list-group-mobile-full {\n    width: 158px;\n  }\n}\n\n</style>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./AddressCandidateList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./AddressCandidateList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddressCandidateList.vue?vue&type=template&id=8b215be2&scoped=true&\"\nimport script from \"./AddressCandidateList.vue?vue&type=script&lang=js&\"\nexport * from \"./AddressCandidateList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddressCandidateList.vue?vue&type=style&index=0&id=8b215be2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b215be2\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar lastIndexOf = require('../internals/array-last-index-of');\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\n$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: lastIndexOf\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n"],"sourceRoot":""}