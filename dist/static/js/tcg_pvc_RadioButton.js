(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tcg_pvc_RadioButton"],{2686:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{class:e.radioButtonClass},[t("div",{staticClass:"div-row"},[e.shouldShowDataLink?t("a",{attrs:{href:"http://metadata.phila.gov/#home/representationdetails/"+e.bennyId,target:"_blank"}},[t("span",[t("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:"info-circle"}})],1)]):e._e(),t("input",{class:{disabled:e.shouldBeDisabled},attrs:{id:"radio-"+e.layerName,layerid:e.layerId,disabled:e.shouldBeDisabled,type:"radio"},domProps:{value:e.layerId,checked:e.webMapActiveLayers.includes(e.layerName)},on:{click:e.radioToggle}}),t("label",{class:{disabled:e.shouldBeDisabled,"label-text":e.shouldShowDataLink,"label-text-no-datalinks":!e.shouldShowDataLink},attrs:{for:"radio-"+e.layerName}},[t("div",{staticClass:"layer-name"},[e._v(e._s(e.layerName))])])]),this.$store.state.map.webMapActiveLayers.includes(e.layerName)&&e.computedShouldShowLegendBox?t("legend-box",{attrs:{layer:e.layer,"layer-name":e.layerName,"layer-id":e.layerId,"layer-definition":e.layerDefinition,legend:e.legend,"legend-class":e.legendClass,scales:this.$config.map.scales}}):e._e(),this.$store.state.map.webMapActiveLayers.includes(e.layerName)&&e.computedShouldShowSlider?t("slider",{attrs:{layer:e.layer,"layer-name":e.layerName,"layer-id":e.layerId,opacity:e.opacity}}):e._e(),this.$store.state.map.webMapActiveLayers.includes(e.layerName)?t("topic-component-group",{attrs:{"topic-components":e.options.components}}):e._e()],1)},i=[],r=(t("e8fd"),t("3e17"),t("1c7d"),t("b28b"),t("5d53"),t("44e9"),t("97cc"),t("f0c9"),t("b85c")),o=t("0524"),n=t("89a9"),l=t("afd4"),p=t("a22a"),d={components:{TopicComponentGroup:n["default"],LegendBox:l["default"],Slider:p["default"]},mixins:[o["a"]],props:["layer","layerName","layerId","layerDefinition","opacity","legend","legendClass","tags","topicLayers","shouldShowDataLinks"],data:function(){return{opa:100*this.$props.opacity}},computed:{radioButtonClass:function(){return this.webMapActiveLayers.includes(this.$props.layerName)?"main-div-selected":"main-div"},computedShouldShowLegendBox:function(){var e;if(this.$props.options){if(Object.keys(this.$props.options).includes("shouldShowLegendBox"))return this.$props.options.shouldShowLegendBox;e=!0}return e},computedShouldShowSlider:function(){return!this.$props.options||(!Object.keys(this.$props.options).includes("shouldShowSlider")||this.$props.options.shouldShowSlider)},matchingTags:function(){var e=[];if(null!==this.$props.tags&&""!==this.inputTagsFilter){var a,t=Object(r["a"])(this.$props.tags);try{for(t.s();!(a=t.n()).done;){var s=a.value;s.toLowerCase().includes(this.inputTagsFilter.toLowerCase())&&e.push(s)}}catch(i){t.e(i)}finally{t.f()}}return e},inputTagsFilter:function(){return this.$store.state.layers.inputTagsFilter},scale:function(){return this.$store.state.map.scale},shouldBeDisabled:function(){var e,a=this.$props.layerDefinition;return a?a.minScale&&(this.scale>a.minScale&&(e=!0),e=!1):e=!1,e},layerUrls:function(){return this.$store.state.layers.layerUrls},bennyEndpoints:function(){return this.$store.state.bennyEndpoints},url:function(){return this.layerUrls[this.$props.layerName]},shouldShowDataLink:function(){return!(!this.bennyId||!this.$props.shouldShowDataLinks)},bennyId:function(){if(Object.keys(this.bennyEndpoints).length>0){var e=this.bennyEndpoints[this.url];return e}return" "},webMapUrlLayer:function(){return this.$store.state.map.webMapUrlLayer},webMapActiveLayers:function(){return this.$store.state.map.webMapActiveLayers},webMapDisplayedLayers:function(){return this.$store.state.map.webMapDisplayedLayers},webMapGeoJson:function(){return this.$store.state.map.webMapGeoJson}},watch:{opa:function(e){var a={layerName:this.$props.layerName,opa:e/100};this.$store.commit("setWebMapLayersOpacity",a)},shouldBeDisabled:function(e){this.webMapActiveLayers.includes(this.$props.layerName)&&!0===e?this.removeFromWebMapDisplayedLayers():this.webMapActiveLayers.includes(this.$props.layerName)&&!1===e&&this.addToWebMapDisplayedLayers()}},methods:{trim:function(e){return(e||"").replace(/^\s+|\s+$/g,"")},radioToggle:function(e){var a,t=this.webMapUrlLayer,s=this.webMapActiveLayers,i=this.webMapDisplayedLayers,o=e.target.id.replace("radio-",""),n=[],l=Object(r["a"])(this.$props.topicLayers);try{for(l.s();!(a=l.n()).done;){var p=a.value;n.push(p.title)}}catch(m){l.e(m)}finally{l.f()}for(var d=0,c=n;d<c.length;d++){var u=c[d];if(u===o)s.push(u),i.push(u),1===s.length&&this.$store.commit("setWebMapUrlLayer",u);else{var h=s.indexOf(u);h>=0&&s.splice(h,1);var y=i.indexOf(u);y>=0&&i.splice(y,1),t===u&&this.$store.commit("setWebMapUrlLayer",null)}}this.$store.commit("setWebMapActiveLayers",s),this.$store.commit("setWebMapDisplayedLayers",i)},removeFromWebMapDisplayedLayers:function(){var e=this.webMapDisplayedLayers,a=e.indexOf(this.$props.layerName);a>=0&&e.splice(a,1),this.$store.commit("setWebMapDisplayedLayers",e)},addToWebMapDisplayedLayers:function(){var e=this.webMapDisplayedLayers;e.push(this.$props.layerName),this.$store.commit("setWebMapDisplayedLayers",e)}}},c=d,u=(t("4ceb"),t("2877")),h=Object(u["a"])(c,s,i,!1,null,"254a873a",null);a["default"]=h.exports},"4ceb":function(e,a,t){"use strict";var s=t("50ff"),i=t.n(s);i.a},"50ff":function(e,a,t){},"5c66":function(e,a,t){"use strict";var s=t("b75a"),i=t.n(s);i.a},"6a6a":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{class:e.radioButtonClass},[t("div",{staticClass:"div-row"},[e.shouldShowDataLink?t("a",{attrs:{href:"http://metadata.phila.gov/#home/representationdetails/"+e.bennyId,target:"_blank"}},[t("span",[t("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:"info-circle"}})],1)]):e._e(),t("input",{class:{disabled:e.shouldBeDisabled},attrs:{id:"radio-"+e.layerName,layerid:e.layerId,disabled:e.shouldBeDisabled,type:"radio"},domProps:{value:e.layerId,checked:e.webMapActiveLayers.includes(e.layerName)},on:{click:e.radioToggle}}),t("label",{class:{disabled:e.shouldBeDisabled,"label-text":e.shouldShowDataLink,"label-text-no-datalinks":!e.shouldShowDataLink},attrs:{for:"radio-"+e.layerName}},[t("div",{staticClass:"layer-name"},[e._v(e._s(e.layerName))])])]),this.$store.state.map.webMapActiveLayers.includes(e.layerName)&&e.computedShouldShowLegendBox?t("legend-box",{attrs:{layer:e.layer,"layer-name":e.layerName,"layer-id":e.layerId,"layer-definition":e.layerDefinition,legend:e.legend,"legend-class":e.legendClass,scales:this.$config.map.scales}}):e._e(),this.$store.state.map.webMapActiveLayers.includes(e.layerName)&&e.computedShouldShowSlider?t("slider",{attrs:{layer:e.layer,"layer-name":e.layerName,"layer-id":e.layerId,opacity:e.opacity}}):e._e(),this.$store.state.map.webMapActiveLayers.includes(e.layerName)?t("topic-component-group",{attrs:{"topic-components":e.options.components}}):e._e()],1)},i=[],r=(t("caad"),t("c975"),t("d81d"),t("a434"),t("b64b"),t("ac1f"),t("2532"),t("5319"),t("b85c")),o=t("f076"),n=t("076f"),l=t("5b50"),p=t("d37c"),d={components:{TopicComponentGroup:n["default"],LegendBox:l["default"],Slider:p["default"]},mixins:[o["a"]],props:["layer","layerName","layerId","layerDefinition","opacity","legend","legendClass","tags","topicLayers","shouldShowDataLinks"],data:function(){return{opa:100*this.$props.opacity}},computed:{radioButtonClass:function(){return this.webMapActiveLayers.includes(this.$props.layerName)?"main-div-selected":"main-div"},computedShouldShowLegendBox:function(){var e;if(this.$props.options){if(Object.keys(this.$props.options).includes("shouldShowLegendBox"))return this.$props.options.shouldShowLegendBox;e=!0}return e},computedShouldShowSlider:function(){return!this.$props.options||(!Object.keys(this.$props.options).includes("shouldShowSlider")||this.$props.options.shouldShowSlider)},matchingTags:function(){var e=[];if(null!==this.$props.tags&&""!==this.inputTagsFilter){var a,t=Object(r["a"])(this.$props.tags);try{for(t.s();!(a=t.n()).done;){var s=a.value;s.toLowerCase().includes(this.inputTagsFilter.toLowerCase())&&e.push(s)}}catch(i){t.e(i)}finally{t.f()}}return e},inputTagsFilter:function(){return this.$store.state.layers.inputTagsFilter},scale:function(){return this.$store.state.map.scale},shouldBeDisabled:function(){var e,a=this.$props.layerDefinition;return a?a.minScale&&(this.scale>a.minScale&&(e=!0),e=!1):e=!1,e},layerUrls:function(){return this.$store.state.layers.layerUrls},bennyEndpoints:function(){return this.$store.state.bennyEndpoints},url:function(){return this.layerUrls[this.$props.layerName]},shouldShowDataLink:function(){return!(!this.bennyId||!this.$props.shouldShowDataLinks)},bennyId:function(){if(Object.keys(this.bennyEndpoints).length>0){var e=this.bennyEndpoints[this.url];return e}return" "},webMapUrlLayer:function(){return this.$store.state.map.webMapUrlLayer},webMapActiveLayers:function(){return this.$store.state.map.webMapActiveLayers},webMapDisplayedLayers:function(){return this.$store.state.map.webMapDisplayedLayers},webMapGeoJson:function(){return this.$store.state.map.webMapGeoJson}},watch:{opa:function(e){var a={layerName:this.$props.layerName,opa:e/100};this.$store.commit("setWebMapLayersOpacity",a)},shouldBeDisabled:function(e){this.webMapActiveLayers.includes(this.$props.layerName)&&!0===e?this.removeFromWebMapDisplayedLayers():this.webMapActiveLayers.includes(this.$props.layerName)&&!1===e&&this.addToWebMapDisplayedLayers()}},methods:{trim:function(e){return(e||"").replace(/^\s+|\s+$/g,"")},radioToggle:function(e){var a,t=this.webMapUrlLayer,s=this.webMapActiveLayers,i=this.webMapDisplayedLayers,o=e.target.id.replace("radio-",""),n=[],l=Object(r["a"])(this.$props.topicLayers);try{for(l.s();!(a=l.n()).done;){var p=a.value;n.push(p.title)}}catch(m){l.e(m)}finally{l.f()}for(var d=0,c=n;d<c.length;d++){var u=c[d];if(u===o)s.push(u),i.push(u),1===s.length&&this.$store.commit("setWebMapUrlLayer",u);else{var h=s.indexOf(u);h>=0&&s.splice(h,1);var y=i.indexOf(u);y>=0&&i.splice(y,1),t===u&&this.$store.commit("setWebMapUrlLayer",null)}}this.$store.commit("setWebMapActiveLayers",s),this.$store.commit("setWebMapDisplayedLayers",i)},removeFromWebMapDisplayedLayers:function(){var e=this.webMapDisplayedLayers,a=e.indexOf(this.$props.layerName);a>=0&&e.splice(a,1),this.$store.commit("setWebMapDisplayedLayers",e)},addToWebMapDisplayedLayers:function(){var e=this.webMapDisplayedLayers;e.push(this.$props.layerName),this.$store.commit("setWebMapDisplayedLayers",e)}}},c=d,u=(t("5c66"),t("2877")),h=Object(u["a"])(c,s,i,!1,null,"4a204cf5",null);a["default"]=h.exports},b75a:function(e,a,t){}}]);
//# sourceMappingURL=tcg_pvc_RadioButton.js.map