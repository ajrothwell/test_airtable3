{"version":3,"sources":["webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/CheckboxSet.vue?e022","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/CheckboxSet.vue?85da","webpack:///node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/CheckboxSet.vue","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/CheckboxSet.vue?ee2b","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/CheckboxSet.vue","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/@phila/vue-comps/src/components/CheckboxSet.vue?1b9f","webpack:///node_modules/@phila/vue-comps/src/components/CheckboxSet.vue","webpack:///./node_modules/@phila/vue-comps/src/components/CheckboxSet.vue?68ed","webpack:///./node_modules/@phila/vue-comps/src/components/CheckboxSet.vue","webpack:///./node_modules/@phila/vue-comps/src/components/CheckboxSet.vue?cb8a"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_l","currentWmLayer","key","id","layer","title","rest","layerDefinition","opacity","legend","computedShouldShowDataLinks","options","staticRenderFns","components","Checkbox","mixins","computed","categories","$store","state","map","selectedCategory","scale","configValue","Object","keys","$props","includes","shouldShowDataLinks","topicLayers","titles","activeLayers","webMapActiveLayers","currentWmLayers","potentialLayer","currentLayersOrdered","push","inputLayerFilter","layers","inputTagsFilter","methods","handleLayerFilterFormKeyup","commit","input","handleLayerFilterFormX","e","target","value","handleTagsFilterFormKeyup","handleTagsFilterFormX","didSelectCategory","selected","preventEnter","preventDefault","component","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","STRICT_METHOD","proto","forced","separator","call","undefined"],"mappings":"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","file":"static/js/tcg_pvc_CheckboxSet.js","sourcesContent":["import mod from \"-!../../../../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./CheckboxSet.vue?vue&type=style&index=0&id=0efd491e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./CheckboxSet.vue?vue&type=style&index=0&id=0efd491e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{attrs:{\"action\":\"#/\"}},[_c('fieldset',{staticClass:\"options\"},_vm._l((_vm.currentWmLayers),function(currentWmLayer){return _c('checkbox',{key:currentWmLayer.id,attrs:{\"layer\":currentWmLayer.layer,\"layer-name\":currentWmLayer.title,\"layer-id\":currentWmLayer.id,\"layer-definition\":currentWmLayer.rest.layerDefinition,\"opacity\":currentWmLayer.opacity,\"legend\":currentWmLayer.legend,\"should-show-data-links\":_vm.computedShouldShowDataLinks,\"options\":currentWmLayer.options}})}),1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <form action=\"#/\">\r\n      <fieldset class=\"options\">\r\n        <checkbox\r\n          v-for=\"(currentWmLayer) in currentWmLayers\"\r\n          :key=\"currentWmLayer.id\"\r\n          :layer=\"currentWmLayer.layer\"\r\n          :layer-name=\"currentWmLayer.title\"\r\n          :layer-id=\"currentWmLayer.id\"\r\n          :layer-definition=\"currentWmLayer.rest.layerDefinition\"\r\n          :opacity=\"currentWmLayer.opacity\"\r\n          :legend=\"currentWmLayer.legend\"\r\n          :should-show-data-links=\"computedShouldShowDataLinks\"\r\n          :options=\"currentWmLayer.options\"\r\n        />\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopicComponent from './TopicComponent.vue';\r\nimport Checkbox from './Checkbox.vue';\r\n\r\nexport default {\r\n  components: {\r\n    Checkbox,\r\n  },\r\n  mixins: [ TopicComponent ],\r\n  computed: {\r\n    categories() {\r\n      return this.$store.state.map.categories;\r\n    },\r\n    selectedCategory() {\r\n      return this.$store.state.map.selectedCategory;\r\n    },\r\n    scale() {\r\n      return this.$store.state.map.scale;\r\n    },\r\n    computedShouldShowDataLinks() {\r\n      let configValue;\r\n      if (Object.keys(this.$props.options).includes('shouldShowDataLinks')) {\r\n        configValue = this.$props.options.shouldShowDataLinks;\r\n      } else {\r\n        configValue = true;\r\n      }\r\n      return configValue;\r\n    },\r\n    topicLayers() {\r\n      if (this.$props.options.topicLayers) {\r\n        return this.$props.options.topicLayers;\r\n      }\r\n      // if no topicLayers are provided, use all\r\n      let titles = [];\r\n      for (let layer of this.$store.state.map.webMapLayersAndRest) {\r\n        titles.push({\r\n          title: layer.title,\r\n        });\r\n      }\r\n      return titles;\r\n\r\n    },\r\n    activeLayers() {\r\n      return this.$store.state.map.webMapActiveLayers;\r\n    },\r\n    currentWmLayers() {\r\n      const layers = this.$store.state.map.webMapLayersAndRest;\r\n      const topicLayers = this.topicLayers;\r\n      let topicLayersKeys = [];\r\n      for (let topicLayer of topicLayers) {\r\n        topicLayersKeys.push(topicLayer.title);\r\n      }\r\n      let currentLayers = [];\r\n      let currentLayersOrdered = [];\r\n\r\n      // loop through all layers to calculate currentLayers\r\n      for (let layer of layers) {\r\n        const lcFilter = this.inputLayerFilter.toLowerCase();\r\n        const lcTagsFilter = this.inputTagsFilter.toLowerCase();\r\n        const lcTitle = layer.title.toLowerCase();\r\n\r\n        if (layer.tags) {\r\n          const lcTags = layer.tags.join().toLowerCase();\r\n          if (\r\n            topicLayersKeys.includes(layer.title) && lcTitle.includes(lcFilter) && layer.category.includes(this.selectedCategory) && lcTags.includes(lcTagsFilter)\r\n              || topicLayersKeys.includes(layer.title) && lcTitle.includes(lcTagsFilter) && layer.category.includes(this.selectedCategory)\r\n              // || topicLayersKeys.includes(layer.title) && lcTags.includes(lcTagsFilter)\r\n              || topicLayersKeys.includes(layer.title) && this.activeLayers.includes(layer.title)\r\n          ) {\r\n            for (let topicLayer of topicLayers) {\r\n              if (topicLayer.title === layer.title) {\r\n                layer.options = topicLayer.options;\r\n              }\r\n            }\r\n            currentLayers.push(layer);\r\n          }\r\n        } else if (this.inputTagsFilter !== '') {\r\n          // continue;\r\n          if (\r\n            topicLayersKeys.includes(layer.title) && lcTitle.includes(lcTagsFilter) && layer.category.includes(this.selectedCategory)\r\n              || topicLayersKeys.includes(layer.title) && this.activeLayers.includes(layer.title)\r\n          ) {\r\n            for (let topicLayer of topicLayers) {\r\n              if (topicLayer.title === layer.title) {\r\n                layer.options = topicLayer.options;\r\n              }\r\n            }\r\n            currentLayers.push(layer);\r\n          }\r\n        } else {\r\n          if (\r\n            topicLayersKeys.includes(layer.title) && lcTitle.includes(lcFilter) && layer.category.includes(this.selectedCategory)\r\n              || topicLayersKeys.includes(layer.title) && this.activeLayers.includes(layer.title)\r\n          ) {\r\n            for (let topicLayer of topicLayers) {\r\n              if (topicLayer.title === layer.title) {\r\n                layer.options = topicLayer.options;\r\n              }\r\n            }\r\n            currentLayers.push(layer);\r\n          }\r\n        }\r\n      }\r\n      for (let topicLayer of topicLayersKeys) {\r\n        let potentialLayer = currentLayers.filter(currentLayers => currentLayers.title === topicLayer);\r\n        if (potentialLayer) {\r\n          if (potentialLayer[0]) {\r\n            currentLayersOrdered.push(potentialLayer[0]);\r\n          }\r\n        }\r\n      }\r\n      return currentLayersOrdered;\r\n    },\r\n    inputLayerFilter() {\r\n      return this.$store.state.layers.inputLayerFilter;\r\n    },\r\n    inputTagsFilter() {\r\n      return this.$store.state.layers.inputTagsFilter;\r\n    },\r\n  },\r\n  methods: {\r\n    handleLayerFilterFormKeyup(e) {\r\n      const input = e.target.value;\r\n      this.$store.commit('setInputLayerFilter', input);\r\n    },\r\n    handleLayerFilterFormX(e) {\r\n      e.target[0].value = '';\r\n      this.$store.commit('setInputLayerFilter', '');\r\n    },\r\n    handleTagsFilterFormKeyup(e) {\r\n      const input = e.target.value;\r\n      // if (input.length >= 3) {\r\n      this.$store.commit('setInputTagsFilter', input);\r\n      // } else {\r\n      // this.$store.commit('setInputLayerFilter', null);\r\n      // }\r\n    },\r\n    handleTagsFilterFormX(e) {\r\n      e.target[0].value = '';\r\n      this.$store.commit('setInputTagsFilter', '');\r\n    },\r\n    didSelectCategory(e) {\r\n      const selected = e.target.selectedIndex;\r\n      this.$store.commit('setSelectedCategory', this.categories[selected]);\r\n    },\r\n    preventEnter(e) {\r\n      if(e.keyCode === 13) {\r\n        e.preventDefault();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .sliderDiv {\r\n    height: 60px;\r\n  }\r\n\r\n  .flex {\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  .metadata-link {\r\n    display: inline-block;\r\n    height: 10px;\r\n    width: 10px;\r\n    /*border: solid;\r\n    border-width: 1px;*/\r\n  }\r\n\r\n  .download-select {\r\n    width: 200px;\r\n  }\r\n\r\n  .div-row {\r\n    position: relative;\r\n    margin-bottom: 12px;\r\n  }\r\n\r\n  /* input[type=\"checkbox\"] {\r\n    width: 25px;\r\n    height: 25px;\r\n    position: absolute;\r\n    top: 50%;\r\n    margin-top: -10px;\r\n    margin-left: 32px;\r\n    cursor: pointer;\r\n  } */\r\n\r\n  a {\r\n    position: absolute;\r\n    /* top: 50%; */\r\n    /* margin-top: -10px; */\r\n    /*margin-left: 25px;*/\r\n  }\r\n\r\n  input[type=checkbox]+label[for] {\r\n    font-size: 16px;\r\n  }\r\n\r\n  input[type=checkbox]+label::before {\r\n    position: absolute;\r\n    margin-top: -12px;\r\n    font-size: 30px;\r\n    padding-right: 5px;\r\n  }\r\n\r\n  .disabled {\r\n    color: #d3d3d3 !important;\r\n  }\r\n\r\n  input[type=checkbox]+label.disabled::before {\r\n    color: #d3d3d3;\r\n  }\r\n\r\n  .label-text {\r\n    /* position: absolute; */\r\n    display: inline-block;\r\n    /* margin-top: 4px; */\r\n    margin-left: 0px;\r\n    padding-left: 30px;\r\n  }\r\n\r\n  .layer-name {\r\n    font-weight: normal;\r\n    vertical-align: middle;\r\n    display: inline-block;\r\n    margin-left: 30px;\r\n    margin-bottom: 6px;\r\n  }\r\n\r\n  .tag-title {\r\n    padding-left: 30px;\r\n    font-weight: normal;\r\n    font-style: italic;\r\n    font-size: 14px;\r\n    color: red;\r\n  }\r\n\r\n  .tag-holder {\r\n    /* display: inline-block; */\r\n    padding-left: 30px;\r\n    font-weight: normal;\r\n    font-size: 14px;\r\n    color: red;\r\n  }\r\n\r\n\r\n</style>\r\n","import mod from \"-!../../../../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../../../../thread-loader/dist/cjs.js!../../../../../../../babel-loader/lib/index.js!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./CheckboxSet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../../../../thread-loader/dist/cjs.js!../../../../../../../babel-loader/lib/index.js!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./CheckboxSet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckboxSet.vue?vue&type=template&id=0efd491e&scoped=true&\"\nimport script from \"./CheckboxSet.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckboxSet.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CheckboxSet.vue?vue&type=style&index=0&id=0efd491e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0efd491e\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{attrs:{\"action\":\"#/\"}},[_c('fieldset',{staticClass:\"options\"},_vm._l((_vm.currentWmLayers),function(currentWmLayer){return _c('checkbox',{key:currentWmLayer.id,attrs:{\"layer\":currentWmLayer.layer,\"layer-name\":currentWmLayer.title,\"layer-id\":currentWmLayer.id,\"layer-definition\":currentWmLayer.rest.layerDefinition,\"opacity\":currentWmLayer.opacity,\"legend\":currentWmLayer.legend,\"should-show-data-links\":_vm.computedShouldShowDataLinks,\"options\":currentWmLayer.options}})}),1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <form action=\"#/\">\r\n      <fieldset class=\"options\">\r\n        <checkbox\r\n          v-for=\"(currentWmLayer) in currentWmLayers\"\r\n          :key=\"currentWmLayer.id\"\r\n          :layer=\"currentWmLayer.layer\"\r\n          :layer-name=\"currentWmLayer.title\"\r\n          :layer-id=\"currentWmLayer.id\"\r\n          :layer-definition=\"currentWmLayer.rest.layerDefinition\"\r\n          :opacity=\"currentWmLayer.opacity\"\r\n          :legend=\"currentWmLayer.legend\"\r\n          :should-show-data-links=\"computedShouldShowDataLinks\"\r\n          :options=\"currentWmLayer.options\"\r\n        />\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopicComponent from './TopicComponent.vue';\r\nimport Checkbox from './Checkbox.vue';\r\n\r\nexport default {\r\n  components: {\r\n    Checkbox,\r\n  },\r\n  mixins: [ TopicComponent ],\r\n  computed: {\r\n    categories() {\r\n      return this.$store.state.map.categories;\r\n    },\r\n    selectedCategory() {\r\n      return this.$store.state.map.selectedCategory;\r\n    },\r\n    scale() {\r\n      return this.$store.state.map.scale;\r\n    },\r\n    computedShouldShowDataLinks() {\r\n      let configValue;\r\n      if (Object.keys(this.$props.options).includes('shouldShowDataLinks')) {\r\n        configValue = this.$props.options.shouldShowDataLinks;\r\n      } else {\r\n        configValue = true;\r\n      }\r\n      return configValue;\r\n    },\r\n    topicLayers() {\r\n      if (this.$props.options.topicLayers) {\r\n        return this.$props.options.topicLayers;\r\n      }\r\n      // if no topicLayers are provided, use all\r\n      let titles = [];\r\n      for (let layer of this.$store.state.map.webMapLayersAndRest) {\r\n        titles.push({\r\n          title: layer.title,\r\n        });\r\n      }\r\n      return titles;\r\n\r\n    },\r\n    activeLayers() {\r\n      return this.$store.state.map.webMapActiveLayers;\r\n    },\r\n    currentWmLayers() {\r\n      const layers = this.$store.state.map.webMapLayersAndRest;\r\n      const topicLayers = this.topicLayers;\r\n      let topicLayersKeys = [];\r\n      for (let topicLayer of topicLayers) {\r\n        topicLayersKeys.push(topicLayer.title);\r\n      }\r\n      let currentLayers = [];\r\n      let currentLayersOrdered = [];\r\n\r\n      // loop through all layers to calculate currentLayers\r\n      for (let layer of layers) {\r\n        const lcFilter = this.inputLayerFilter.toLowerCase();\r\n        const lcTagsFilter = this.inputTagsFilter.toLowerCase();\r\n        const lcTitle = layer.title.toLowerCase();\r\n\r\n        if (layer.tags) {\r\n          const lcTags = layer.tags.join().toLowerCase();\r\n          if (\r\n            topicLayersKeys.includes(layer.title) && lcTitle.includes(lcFilter) && layer.category.includes(this.selectedCategory) && lcTags.includes(lcTagsFilter)\r\n              || topicLayersKeys.includes(layer.title) && lcTitle.includes(lcTagsFilter) && layer.category.includes(this.selectedCategory)\r\n              // || topicLayersKeys.includes(layer.title) && lcTags.includes(lcTagsFilter)\r\n              || topicLayersKeys.includes(layer.title) && this.activeLayers.includes(layer.title)\r\n          ) {\r\n            for (let topicLayer of topicLayers) {\r\n              if (topicLayer.title === layer.title) {\r\n                layer.options = topicLayer.options;\r\n              }\r\n            }\r\n            currentLayers.push(layer);\r\n          }\r\n        } else if (this.inputTagsFilter !== '') {\r\n          // continue;\r\n          if (\r\n            topicLayersKeys.includes(layer.title) && lcTitle.includes(lcTagsFilter) && layer.category.includes(this.selectedCategory)\r\n              || topicLayersKeys.includes(layer.title) && this.activeLayers.includes(layer.title)\r\n          ) {\r\n            for (let topicLayer of topicLayers) {\r\n              if (topicLayer.title === layer.title) {\r\n                layer.options = topicLayer.options;\r\n              }\r\n            }\r\n            currentLayers.push(layer);\r\n          }\r\n        } else {\r\n          if (\r\n            topicLayersKeys.includes(layer.title) && lcTitle.includes(lcFilter) && layer.category.includes(this.selectedCategory)\r\n              || topicLayersKeys.includes(layer.title) && this.activeLayers.includes(layer.title)\r\n          ) {\r\n            for (let topicLayer of topicLayers) {\r\n              if (topicLayer.title === layer.title) {\r\n                layer.options = topicLayer.options;\r\n              }\r\n            }\r\n            currentLayers.push(layer);\r\n          }\r\n        }\r\n      }\r\n      for (let topicLayer of topicLayersKeys) {\r\n        let potentialLayer = currentLayers.filter(currentLayers => currentLayers.title === topicLayer);\r\n        if (potentialLayer) {\r\n          if (potentialLayer[0]) {\r\n            currentLayersOrdered.push(potentialLayer[0]);\r\n          }\r\n        }\r\n      }\r\n      return currentLayersOrdered;\r\n    },\r\n    inputLayerFilter() {\r\n      return this.$store.state.layers.inputLayerFilter;\r\n    },\r\n    inputTagsFilter() {\r\n      return this.$store.state.layers.inputTagsFilter;\r\n    },\r\n  },\r\n  methods: {\r\n    handleLayerFilterFormKeyup(e) {\r\n      const input = e.target.value;\r\n      this.$store.commit('setInputLayerFilter', input);\r\n    },\r\n    handleLayerFilterFormX(e) {\r\n      e.target[0].value = '';\r\n      this.$store.commit('setInputLayerFilter', '');\r\n    },\r\n    handleTagsFilterFormKeyup(e) {\r\n      const input = e.target.value;\r\n      // if (input.length >= 3) {\r\n      this.$store.commit('setInputTagsFilter', input);\r\n      // } else {\r\n      // this.$store.commit('setInputLayerFilter', null);\r\n      // }\r\n    },\r\n    handleTagsFilterFormX(e) {\r\n      e.target[0].value = '';\r\n      this.$store.commit('setInputTagsFilter', '');\r\n    },\r\n    didSelectCategory(e) {\r\n      const selected = e.target.selectedIndex;\r\n      this.$store.commit('setSelectedCategory', this.categories[selected]);\r\n    },\r\n    preventEnter(e) {\r\n      if(e.keyCode === 13) {\r\n        e.preventDefault();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .sliderDiv {\r\n    height: 60px;\r\n  }\r\n\r\n  .flex {\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  .metadata-link {\r\n    display: inline-block;\r\n    height: 10px;\r\n    width: 10px;\r\n    /*border: solid;\r\n    border-width: 1px;*/\r\n  }\r\n\r\n  .download-select {\r\n    width: 200px;\r\n  }\r\n\r\n  .div-row {\r\n    position: relative;\r\n    margin-bottom: 12px;\r\n  }\r\n\r\n  /* input[type=\"checkbox\"] {\r\n    width: 25px;\r\n    height: 25px;\r\n    position: absolute;\r\n    top: 50%;\r\n    margin-top: -10px;\r\n    margin-left: 32px;\r\n    cursor: pointer;\r\n  } */\r\n\r\n  a {\r\n    position: absolute;\r\n    /* top: 50%; */\r\n    /* margin-top: -10px; */\r\n    /*margin-left: 25px;*/\r\n  }\r\n\r\n  input[type=checkbox]+label[for] {\r\n    font-size: 16px;\r\n  }\r\n\r\n  input[type=checkbox]+label::before {\r\n    position: absolute;\r\n    margin-top: -12px;\r\n    font-size: 30px;\r\n    padding-right: 5px;\r\n  }\r\n\r\n  .disabled {\r\n    color: #d3d3d3 !important;\r\n  }\r\n\r\n  input[type=checkbox]+label.disabled::before {\r\n    color: #d3d3d3;\r\n  }\r\n\r\n  .label-text {\r\n    /* position: absolute; */\r\n    display: inline-block;\r\n    /* margin-top: 4px; */\r\n    margin-left: 0px;\r\n    padding-left: 30px;\r\n  }\r\n\r\n  .layer-name {\r\n    font-weight: normal;\r\n    vertical-align: middle;\r\n    display: inline-block;\r\n    margin-left: 30px;\r\n    margin-bottom: 6px;\r\n  }\r\n\r\n  .tag-title {\r\n    padding-left: 30px;\r\n    font-weight: normal;\r\n    font-style: italic;\r\n    font-size: 14px;\r\n    color: red;\r\n  }\r\n\r\n  .tag-holder {\r\n    /* display: inline-block; */\r\n    padding-left: 30px;\r\n    font-weight: normal;\r\n    font-size: 14px;\r\n    color: red;\r\n  }\r\n\r\n\r\n</style>\r\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./CheckboxSet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./CheckboxSet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckboxSet.vue?vue&type=template&id=335bf9a0&scoped=true&\"\nimport script from \"./CheckboxSet.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckboxSet.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CheckboxSet.vue?vue&type=style&index=0&id=335bf9a0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"335bf9a0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./CheckboxSet.vue?vue&type=style&index=0&id=335bf9a0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./CheckboxSet.vue?vue&type=style&index=0&id=335bf9a0&scoped=true&lang=css&\""],"sourceRoot":""}