{"version":3,"sources":["webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/TopicComponent.vue","webpack:///node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/TopicComponent.vue","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/TopicComponent.vue?3b63","webpack:///./node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue?b34b","webpack:///./node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue?6b55","webpack:///node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue","webpack:///./node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue?601b","webpack:///./node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue?adca","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue?e35c","webpack:///node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue?9b90","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue"],"names":["render","staticRenderFns","props","type","Object","default","computed","nullValue","options","beforeCreate","created","methods","evaluateSlot","valOrGetter","valOrGetterType","val","item","getter","state","controller","obj","key","window","component","_vm","this","_h","$createElement","_c","_self","$props","filters","staticClass","_l","filter","index","attrs","_v","_s","label","on","handleFilterValueChange","filterValue","filterIndex","domProps","slugifyFilterValue","_e","table","directives","name","rawName","value","shouldShowTable","id","expression","tableGroupData","slots","components","HorizontalTable","mixins","data","horizontalTableGroupId","altMainTable","alternate","mainTable","altDepTable","dependentTable","sources","dataSource","activeTable","activeTableId","$store","commit","showBoth","result","deslugifyFilterValue","tableName","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","STRICT_METHOD","target","proto","forced","separator","call","undefined"],"mappings":"gNAAIA,EAAQC,E,wBCCZ,GAEEC,MAAO,CACL,MAAS,CACPC,KAAMC,OACNC,QAAS,WACP,MAAO,KAGX,QAAW,CACTF,KAAMC,OACNC,QAAS,WACP,MAAO,KAGX,KAAQ,CACNF,KAAMC,OACNC,QAAS,WACP,MAAO,MAIbC,SAAU,CACRC,UADJ,WAEM,IAAN,mBACM,OAAOC,EAAQD,YAGnBE,aA5BF,aA+BEC,QA/BF,aAkCEC,QAAS,CACPC,aADJ,SACA,sIAGM,IAAKC,EACH,OAAOA,EAGT,IACN,EADA,oBAIM,GAAwB,aAApBC,EAAgC,CAClC,IAAR,oBACA,mBACA,IAOA,YAOUC,EADEC,EACIC,EAAOC,EAAOF,EAAMG,GAGpBF,EAAOC,QAIfH,EAAMF,EAIR,IAAY,IAARE,QAKV,+BACQ,OAAOR,EA7Cf,uBAiDA,GAjDA,yBAiDA,EAjDA,QAmDA,0BAEA,SACA,YACA,IACA,sBACA,4CACA,sBAEc,OADAa,EAAIC,GAAOC,OAAOD,GACXD,IACrB,KAGA,kBACA,UAhBA,+BAjDA,8BAoEM,OAAOL,KCxGqV,I,YFO9VQ,EAAY,eACd,EACAvB,EACAC,GACA,EACA,KACA,KACA,MAIa,OAAAsB,E,2CGlBf,yBAAyc,EAAG,G,2CCA5c,IAAIvB,EAAS,WAAa,IAAIwB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAIH,KAAKK,OAAOtB,QAAQuB,QAASH,EAAG,MAAM,CAACI,YAAY,gCAAgCR,EAAIS,GAAIR,KAAKK,OAAOtB,QAAe,SAAE,SAAS0B,EAAOC,GAAO,OAAOP,EAAG,MAAM,CAACP,IAAIc,EAAMH,YAAY,eAAeI,MAAM,CAAC,GAAK,UAAYD,IAAQ,CAACP,EAAG,MAAM,CAACI,YAAY,sCAAsC,CAACR,EAAIa,GAAG,IAAIb,EAAIc,GAAGJ,EAAOK,OAAO,OAAOX,EAAG,SAAS,CAACI,YAAY,YAAYQ,GAAG,CAAC,OAAShB,EAAIiB,0BAA0B,CAACb,EAAG,WAAWJ,EAAIS,GAAIC,EAAa,QAAE,SAASQ,EAAYC,GAAa,OAAOf,EAAG,SAAS,CAACP,IAAIsB,EAAYX,YAAY,mBAAmBY,SAAS,CAAC,MAAQpB,EAAIqB,mBAAmBH,KAAe,CAAClB,EAAIa,GAAG,IAAIb,EAAIc,GAAGI,EAAYH,OAAO,UAAS,UAAS,GAAGf,EAAIsB,KAAKtB,EAAIS,GAAIT,EAAIhB,QAAc,QAAE,SAASuC,EAAMZ,GAAO,OAAOP,EAAG,mBAAmB,CAACoB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAO3B,EAAI4B,gBAAgBL,EAAMvC,QAAQ6C,IAAKC,WAAW,sCAAsCjC,IAAIc,EAAMC,MAAM,CAAC,KAAOZ,EAAI+B,eAAe,QAAUR,EAAMvC,QAAQ,MAAQuC,EAAMS,aAAY,IAChkCvD,EAAkB,G,wFCgDtB,GACEwD,WAAY,CAEVC,gBAAiB,WAArB,kEAIEC,OAAQ,CAAC,EAAX,MAGEC,KAVF,WAWI,IAAJ,GACM,aAAgBnC,KAAKjB,QAAQqD,uBAC7B,YAAe,KACf,cAAiB,MAOnB,MAAO,CACLN,eAAN,IAGEjD,SAAU,CACRwD,aADJ,WAEM,OAAIrC,KAAKjB,QAAQuD,UACRtC,KAAKjB,QAAQuD,UAAUC,UAEzB,MAGTC,YARJ,WASM,OAAIxC,KAAKjB,QAAQuD,UACRtC,KAAKjB,QAAQuD,UAAUG,eAEzB,OAIXxD,QAzCF,WA2CI,GAAIe,KAAKjB,QAAQuB,QAAS,CAA9B,uBAEA,sBAFA,IAEA,0CAOA,wBAIA,kCAXA,uBAcA,qBAdA,IAcA,0CACA,mBACA,0CAhBA,8BAoBA,8EAtBA,+BA2BI,GAAIN,KAAKjB,QAAQuD,UAAW,CAE1B,IAAN,4BAGUI,EAAQ1C,KAAKwC,YAAYG,YAAYR,OAASO,EAAQ1C,KAAKqC,aAAaM,YAAYR,MAEtFnC,KAAK4C,YAAc5C,KAAKwC,YAAYZ,GACpC5B,KAAK6C,cAAgB,MACrB7C,KAAK8C,OAAOC,OAAO,qCAAsC/C,KAAK8B,iBAEtE,uCACQ9B,KAAK4C,YAAc5C,KAAKqC,aAAaT,GACrC5B,KAAK6C,cAAgB,MACrB7C,KAAK8C,OAAOC,OAAO,qCAAsC/C,KAAK8B,iBAI9D9B,KAAKjB,QAAQiE,UAInB9D,QAAS,CACPyC,gBADJ,SACA,GACM,IAAN,KAiBM,OAVI3B,KAAK8B,eAAec,aAAehB,IACrCqB,GAAS,GASJA,GAET7B,mBArBJ,SAqBA,OACA,iCACM,MAAO,CAAC,EAAd,gBAEI8B,qBAzBJ,SAyBA,GACM,IAAN,eADA,iBAEA,EAFA,GAEA,EAFA,KAEA,EAFA,KAEA,EAFA,KAGM,MAAO,CAAb,6BAEIlC,wBA9BJ,SA8BA,GAEM,IAAN,WACA,UAEA,+BACA,UAGMhB,KAAK8B,eAAec,YAAcO,EATxC,uBAYA,qBAZA,IAYA,0CAEA,mBACA,0CAfA,8BAoBMnD,KAAK8C,OAAOC,OAAO,qCAAsC/C,KAAK8B,mBC/LuP,I,wBCQvThC,EAAY,eACd,EACAvB,EACAC,GACA,EACA,KACA,WACA,MAIa,aAAAsB,E,sECnBf,yBAA+f,EAAG,G,2DCClgB,IAAIsD,EAAI,EAAQ,QACZC,EAAgB,EAAQ,QACxBC,EAAkB,EAAQ,QAC1BC,EAAsB,EAAQ,QAE9BC,EAAa,GAAGC,KAEhBC,EAAcL,GAAiB1E,OAC/BgF,EAAgBJ,EAAoB,OAAQ,KAIhDH,EAAE,CAAEQ,OAAQ,QAASC,OAAO,EAAMC,OAAQJ,IAAgBC,GAAiB,CACzEF,KAAM,SAAcM,GAClB,OAAOP,EAAWQ,KAAKV,EAAgBtD,WAAqBiE,IAAdF,EAA0B,IAAMA,O,yCCflF,IAAIxF,EAAS,WAAa,IAAIwB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAIH,KAAKK,OAAOtB,QAAQuB,QAASH,EAAG,MAAM,CAACI,YAAY,gCAAgCR,EAAIS,GAAIR,KAAKK,OAAOtB,QAAe,SAAE,SAAS0B,EAAOC,GAAO,OAAOP,EAAG,MAAM,CAACP,IAAIc,EAAMH,YAAY,eAAeI,MAAM,CAAC,GAAK,UAAYD,IAAQ,CAACP,EAAG,MAAM,CAACI,YAAY,sCAAsC,CAACR,EAAIa,GAAG,IAAIb,EAAIc,GAAGJ,EAAOK,OAAO,OAAOX,EAAG,SAAS,CAACI,YAAY,YAAYQ,GAAG,CAAC,OAAShB,EAAIiB,0BAA0B,CAACb,EAAG,WAAWJ,EAAIS,GAAIC,EAAa,QAAE,SAASQ,EAAYC,GAAa,OAAOf,EAAG,SAAS,CAACP,IAAIsB,EAAYX,YAAY,mBAAmBY,SAAS,CAAC,MAAQpB,EAAIqB,mBAAmBH,KAAe,CAAClB,EAAIa,GAAG,IAAIb,EAAIc,GAAGI,EAAYH,OAAO,UAAS,UAAS,GAAGf,EAAIsB,KAAKtB,EAAIS,GAAIT,EAAIhB,QAAc,QAAE,SAASuC,EAAMZ,GAAO,OAAOP,EAAG,mBAAmB,CAACoB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAO3B,EAAI4B,gBAAgBL,EAAMvC,QAAQ6C,IAAKC,WAAW,sCAAsCjC,IAAIc,EAAMC,MAAM,CAAC,KAAOZ,EAAI+B,eAAe,QAAUR,EAAMvC,QAAQ,MAAQuC,EAAMS,aAAY,IAChkCvD,EAAkB,G,wFCgDtB,GACEwD,WAAY,CAEVC,gBAAiB,WAArB,mEAIEC,OAAQ,CAAC,EAAX,MAGEC,KAVF,WAWI,IAAJ,GACM,aAAgBnC,KAAKjB,QAAQqD,uBAC7B,YAAe,KACf,cAAiB,MAOnB,MAAO,CACLN,eAAN,IAGEjD,SAAU,CACRwD,aADJ,WAEM,OAAIrC,KAAKjB,QAAQuD,UACRtC,KAAKjB,QAAQuD,UAAUC,UAEzB,MAGTC,YARJ,WASM,OAAIxC,KAAKjB,QAAQuD,UACRtC,KAAKjB,QAAQuD,UAAUG,eAEzB,OAIXxD,QAzCF,WA2CI,GAAIe,KAAKjB,QAAQuB,QAAS,CAA9B,uBAEA,sBAFA,IAEA,0CAOA,wBAIA,kCAXA,uBAcA,qBAdA,IAcA,0CACA,mBACA,0CAhBA,8BAoBA,8EAtBA,+BA2BI,GAAIN,KAAKjB,QAAQuD,UAAW,CAE1B,IAAN,4BAGUI,EAAQ1C,KAAKwC,YAAYG,YAAYR,OAASO,EAAQ1C,KAAKqC,aAAaM,YAAYR,MAEtFnC,KAAK4C,YAAc5C,KAAKwC,YAAYZ,GACpC5B,KAAK6C,cAAgB,MACrB7C,KAAK8C,OAAOC,OAAO,qCAAsC/C,KAAK8B,iBAEtE,uCACQ9B,KAAK4C,YAAc5C,KAAKqC,aAAaT,GACrC5B,KAAK6C,cAAgB,MACrB7C,KAAK8C,OAAOC,OAAO,qCAAsC/C,KAAK8B,iBAI9D9B,KAAKjB,QAAQiE,UAInB9D,QAAS,CACPyC,gBADJ,SACA,GACM,IAAN,KAiBM,OAVI3B,KAAK8B,eAAec,aAAehB,IACrCqB,GAAS,GASJA,GAET7B,mBArBJ,SAqBA,OACA,iCACM,MAAO,CAAC,EAAd,gBAEI8B,qBAzBJ,SAyBA,GACM,IAAN,eADA,iBAEA,EAFA,GAEA,EAFA,KAEA,EAFA,KAEA,EAFA,KAGM,MAAO,CAAb,6BAEIlC,wBA9BJ,SA8BA,GAEM,IAAN,WACA,UAEA,+BACA,UAGMhB,KAAK8B,eAAec,YAAcO,EATxC,uBAYA,qBAZA,IAYA,0CAEA,mBACA,0CAfA,8BAoBMnD,KAAK8C,OAAOC,OAAO,qCAAsC/C,KAAK8B,mBC/LoS,I,wBCQpWhC,EAAY,eACd,EACAvB,EACAC,GACA,EACA,KACA,WACA,MAIa,aAAAsB,E","file":"static/js/tcg_pvc_HorizontalTableGroup.js","sourcesContent":["var render, staticRenderFns\nimport script from \"./TopicComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./TopicComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\nexport default {\r\n  // props: ['slots', 'options', 'item'],\r\n  props: {\r\n    'slots': {\r\n      type: Object,\r\n      default: function() {\r\n        return {};\r\n      },\r\n    },\r\n    'options': {\r\n      type: Object,\r\n      default: function() {\r\n        return {};\r\n      },\r\n    },\r\n    'item': {\r\n      type: Object,\r\n      default: function() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  computed: {\r\n    nullValue() {\r\n      const options = this.options || {};\r\n      return options.nullValue;\r\n    },\r\n  },\r\n  beforeCreate() {\r\n    // console.log('TopicComponent.vue beforeCreate is running, this:', this);\r\n  },\r\n  created() {\r\n    // console.log('TopicComponent.vue created is running, this.$props.slots:', this.$props.slots);\r\n  },\r\n  methods: {\r\n    evaluateSlot(valOrGetter, transforms = [], nullValue = '') {\r\n      // console.log('evaluateSlot is running, this.item:', this.item, 'valOrGetter:', valOrGetter);\r\n      // check for null val/getter\r\n      if (!valOrGetter) {\r\n        return valOrGetter;\r\n      }\r\n\r\n      const valOrGetterType = typeof valOrGetter;\r\n      let val;\r\n\r\n      // fn\r\n      if (valOrGetterType === 'function') {\r\n        const state = this.$store.state;\r\n        const controller = this.$controller;\r\n        const getter = valOrGetter;\r\n\r\n        // const getterText = String(getter);\r\n        // const depsRe = /state(\\.\\w+)+/g;\r\n        // const depsText = getterText.match(depsRe);\r\n        // const deps = depsText.map(eval);\r\n\r\n        const item = this.item;\r\n        // console.log('in evaluateSlot, item:', item);\r\n\r\n        // if this comp is associated with an \"item\" (generally some object\r\n        // from a list of things, e.g. dor parcels), pass the item itself\r\n        // as well when evaluating\r\n        if (item) {\r\n          val = getter(state, item, controller);\r\n        } else {\r\n          // console.log('evaluateSlot, about to get value');\r\n          val = getter(state);\r\n          // console.log('state:', state, 'val:', val);\r\n        }\r\n      } else {\r\n        val = valOrGetter;\r\n      }\r\n\r\n      // format nulls but not falses\r\n      if (val === false) {\r\n        // no action\r\n      // } else if (!val) {\r\n      //   return nullValue;\r\n      // }\r\n      } else if (!transforms.includes('currency') && !val) {\r\n        return nullValue;\r\n      }\r\n\r\n      // apply transforms\r\n      for (let transformKey of transforms) {\r\n        // get transform definition from config by name\r\n        const transform = this.$config.transforms[transformKey];\r\n        // make object of (relevant) globals by filtering window object\r\n        let globals;\r\n        const globalKeys = transform.globals;\r\n        if (globalKeys) {\r\n          globals = Object.keys(window)\r\n            .filter(key => globalKeys.includes(key))\r\n            .reduce((obj, key) => {\r\n              obj[key] = window[key];\r\n              return obj;\r\n            }, {});\r\n        }\r\n        // run transform\r\n        const fn = transform.transform;\r\n        val = fn(val, globals);\r\n      }\r\n\r\n      return val;\r\n    },\r\n\r\n    // not sure how children can use this. `this` isn't binding correctly at\r\n    // the time the child gets instantiated.\r\n    // getComputedProperties() {\r\n    //   const slots = this.slots;\r\n    //   return Object.keys(slots).reduce((o, key) => {\r\n    //     const valOrGetter = slots[key];\r\n    //     // wrap slot val/getter in evaluator fn\r\n    //     o[key] = () => {\r\n    //       this.evaluateSlot(valOrGetter);\r\n    //     }\r\n    //     return o;\r\n    //   }, {});\r\n    // }\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../../../../thread-loader/dist/cjs.js!../../../../../../../babel-loader/lib/index.js!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./TopicComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../../../../thread-loader/dist/cjs.js!../../../../../../../babel-loader/lib/index.js!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./TopicComponent.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./HorizontalTableGroup.vue?vue&type=style&index=0&id=698e3d08&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./HorizontalTableGroup.vue?vue&type=style&index=0&id=698e3d08&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!!this.$props.options.filters)?_c('div',{staticClass:\"mb-horizontal-table-controls\"},_vm._l((this.$props.options.filters),function(filter,index){return _c('div',{key:index,staticClass:\"inline-block\",attrs:{\"id\":'filter-' + index}},[_c('div',{staticClass:\"vertically-centered mb-select-text\"},[_vm._v(\" \"+_vm._s(filter.label)+\" \")]),_c('select',{staticClass:\"mb-select\",on:{\"change\":_vm.handleFilterValueChange}},[_c('optgroup',_vm._l((filter.values),function(filterValue,filterIndex){return _c('option',{key:filterIndex,staticClass:\"mb-select-option\",domProps:{\"value\":_vm.slugifyFilterValue(filterValue)}},[_vm._v(\" \"+_vm._s(filterValue.label)+\" \")])}),0)])])}),0):_vm._e(),_vm._l((_vm.options.tables),function(table,index){return _c('horizontal-table',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shouldShowTable(table.options.id)),expression:\"shouldShowTable(table.options.id)\"}],key:index,attrs:{\"item\":_vm.tableGroupData,\"options\":table.options,\"slots\":table.slots}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div\r\n      v-if=\"!!this.$props.options.filters\"\r\n      class=\"mb-horizontal-table-controls\"\r\n    >\r\n      <div\r\n        v-for=\"(filter, index) in this.$props.options.filters\"\r\n        :id=\"'filter-' + index\"\r\n        :key=\"index\"\r\n        class=\"inline-block\"\r\n      >\r\n        <div class=\"vertically-centered mb-select-text\">\r\n          {{ filter.label }}\r\n        </div>\r\n        <select\r\n          class=\"mb-select\"\r\n          @change=\"handleFilterValueChange\"\r\n        >\r\n          <optgroup>\r\n            <option\r\n              v-for=\"(filterValue, filterIndex) in filter.values\"\r\n              :key=\"filterIndex\"\r\n              :value=\"slugifyFilterValue(filterValue)\"\r\n              class=\"mb-select-option\"\r\n            >\r\n              {{ filterValue.label }}\r\n            </option>\r\n          </optgroup>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <horizontal-table\r\n      v-for=\"(table, index) in options.tables\"\r\n      v-show=\"shouldShowTable(table.options.id)\"\r\n      :key=\"index\"\r\n      :item=\"tableGroupData\"\r\n      :options=\"table.options\"\r\n      :slots=\"table.slots\"\r\n    />\r\n    <!-- <topic-component-group :topic-components=\"options.components\" :item=\"item\" /> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopicComponent from './TopicComponent.vue';\r\n// import HorizontalTable from './HorizontalTable.vue';\r\n// import TopicComponentGroup from '../TopicComponentGroup.vue';\r\n\r\nexport default {\r\n  components: {\r\n    // HorizontalTable,\r\n    HorizontalTable: () => import(/* webpackChunkName: \"htg_pvc_HorizontalTable\" */'./HorizontalTable.vue'),\r\n    // TopicComponentGroup\r\n  },\r\n  // name: 'HorizontalTableGroup',\r\n  mixins: [ TopicComponent ],\r\n  // some internal state for things local enough that they shouldn't be in\r\n  // vuex if we can avoid it.\r\n  data() {\r\n    const tableGroupData = {\r\n      'tableGroupId': this.options.horizontalTableGroupId,\r\n      'activeTable': null,\r\n      'activeTableId': null,\r\n    };\r\n      // return {\r\n      //   horizontalTableGroupId: this.options.horizontalTableGroupId,\r\n      //   activeTable: null,\r\n      //   activeTableId: null,\r\n      // };\r\n    return {\r\n      tableGroupData,\r\n    };\r\n  },\r\n  computed: {\r\n    altMainTable() {\r\n      if (this.options.alternate) {\r\n        return this.options.alternate.mainTable;\r\n      }\r\n      return null;\r\n\r\n    },\r\n    altDepTable() {\r\n      if (this.options.alternate) {\r\n        return this.options.alternate.dependentTable;\r\n      }\r\n      return null;\r\n\r\n    },\r\n  },\r\n  created() {\r\n    // console.log('horizontalTableGroup created is starting, this.tableGroupData:', this.tableGroupData);\r\n    if (this.options.filters) {\r\n      // console.log('horizontalTableGroup created, if this.options.filters is running:', this.options.filters, this.options.filters.entries());\r\n      for (let filter of this.options.filters) {\r\n        // for (let [index, filter] of this.options.filters.entries()) {\r\n        // console.log('for loop, this.options.filters:', this.options.filters[0]);\r\n        // let filter = this.options.filters[0]\r\n        // for (let [index, filter] of this.options.filters.entries()) {\r\n        // console.log('for loop, filter:', filter);\r\n        // console.log('for loop, index:', index, 'filter:', filter);\r\n        const defaultTableName = filter.values[0].value || {};\r\n        // console.log('for loop, defaultTableName:', defaultTableName);\r\n\r\n        // add activeTable to local data\r\n        this.tableGroupData.activeTable = defaultTableName;\r\n        // add activeTableId to local data\r\n        // console.log('for loop, this.options.components:', this.options.components);\r\n        for (let comp of this.options.tables) {\r\n          if (comp.options.id === defaultTableName) {\r\n            this.tableGroupData.activeTableId = comp._id;\r\n          }\r\n        }\r\n        // console.log('horizontalTableGroup this.tableGroupData:', this.tableGroupData);\r\n        this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n        // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n      }\r\n      // console.log('horizontalTableGroup created, if this.options.filters is ending');\r\n    }\r\n    if (this.options.alternate) {\r\n      // console.log('horizontalTableGroup created, if this.options.alternate - mainTable', this.options.alternate.mainTable, this.altMainTable, 'dependentTable', this.options.alternate.dependentTable, this.altDepTable);\r\n      const sources = this.$store.state.sources;\r\n      // console.log('Tablegroup source check dep', sources[this.altDepTable.dataSource].data);\r\n      // console.log('Tablegroup source check main', sources[this.altMainTable.dataSource].data);\r\n      if (sources[this.altDepTable.dataSource].data && !sources[this.altMainTable.dataSource].data) {\r\n        // console.log('Tablegroup there is a dep table, and not a main table');\r\n        this.activeTable = this.altDepTable.id;\r\n        this.activeTableId = 'aaa';\r\n        this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n        // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n      } else if (sources[this.altMainTable.dataSource].data) {\r\n        this.activeTable = this.altMainTable.id;\r\n        this.activeTableId = 'bbb';\r\n        this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n        // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n      }\r\n    }\r\n    if (this.options.showBoth) {\r\n      // console.log('tableGroup showBoth');\r\n    }\r\n  },\r\n  methods: {\r\n    shouldShowTable(id) {\r\n      let result = true;\r\n\r\n      // if the table is in a tab group or table group, it will have an \"item\" in props\r\n      // if (this.item) {\r\n      // if it is in a table group, the item will contain an \"activeTable\" for the group\r\n      // if (this.activeTable) {\r\n      // const id = this.options.id;\r\n      if (this.tableGroupData.activeTable != id) {\r\n        result = false;\r\n      }\r\n      // }\r\n      // }\r\n      // if there is no data, and the table should not show at all if it is empty\r\n      // if (this.options.showOnlyIfData && this.tableGroupData.length === 0) {\r\n      //   result = false;\r\n      // }\r\n\r\n      return result;\r\n    },\r\n    slugifyFilterValue(filterValue) {\r\n      const { direction, value, unit } = filterValue;\r\n      return [ direction, value, unit ].join('-');\r\n    },\r\n    deslugifyFilterValue(slug) {\r\n      const parts = slug.split('-');\r\n      const [ direction, value, unit ] = parts;\r\n      return { value, unit, direction };\r\n    },\r\n    handleFilterValueChange(e) {\r\n      // console.log('handle activeTable value change', e);\r\n      const target = e.target;\r\n      const slug = target.value;\r\n      // deslugify filter value\r\n      const valueObj = this.deslugifyFilterValue(slug);\r\n      const tableName = valueObj.value;\r\n\r\n      // add activeTable to local data\r\n      this.tableGroupData.activeTable = tableName;\r\n\r\n      // add activeTableId to local data\r\n      for (let comp of this.options.tables) {\r\n        // console.log('tableName:', tableName, 'comp.options.id:', comp.options.id, 'comp:', comp);\r\n        if (comp.options.id === tableName) {\r\n          this.tableGroupData.activeTableId = comp._id;\r\n        }\r\n      }\r\n\r\n      // console.log('handleFilterValueChange, this.tableGroupData:', this.tableGroupData);\r\n      this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n      // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .tabs-panel {\r\n    padding: 20px;\r\n  }\r\n\r\n  .inline-block {\r\n    display: inline-block;\r\n  }\r\n\r\n  .vertically-centered {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .mb-horizontal-table-controls {\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  /* dropdown filters */\r\n  .mb-select-text {\r\n    font-size: 16px;\r\n    padding-right: 5px;\r\n    padding-left: 5px;\r\n  }\r\n\r\n  .mb-select {\r\n    width: auto;\r\n    height: 40px;\r\n    vertical-align: middle;\r\n    /*padding-right: 20px;*/\r\n  }\r\n\r\n  .mb-select-option {\r\n    display: inline-block;\r\n    padding-right: 100px;\r\n    margin-right: 100px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./HorizontalTableGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./HorizontalTableGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HorizontalTableGroup.vue?vue&type=template&id=698e3d08&scoped=true&\"\nimport script from \"./HorizontalTableGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./HorizontalTableGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HorizontalTableGroup.vue?vue&type=style&index=0&id=698e3d08&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"698e3d08\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./HorizontalTableGroup.vue?vue&type=style&index=0&id=44fab56a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./HorizontalTableGroup.vue?vue&type=style&index=0&id=44fab56a&scoped=true&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!!this.$props.options.filters)?_c('div',{staticClass:\"mb-horizontal-table-controls\"},_vm._l((this.$props.options.filters),function(filter,index){return _c('div',{key:index,staticClass:\"inline-block\",attrs:{\"id\":'filter-' + index}},[_c('div',{staticClass:\"vertically-centered mb-select-text\"},[_vm._v(\" \"+_vm._s(filter.label)+\" \")]),_c('select',{staticClass:\"mb-select\",on:{\"change\":_vm.handleFilterValueChange}},[_c('optgroup',_vm._l((filter.values),function(filterValue,filterIndex){return _c('option',{key:filterIndex,staticClass:\"mb-select-option\",domProps:{\"value\":_vm.slugifyFilterValue(filterValue)}},[_vm._v(\" \"+_vm._s(filterValue.label)+\" \")])}),0)])])}),0):_vm._e(),_vm._l((_vm.options.tables),function(table,index){return _c('horizontal-table',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shouldShowTable(table.options.id)),expression:\"shouldShowTable(table.options.id)\"}],key:index,attrs:{\"item\":_vm.tableGroupData,\"options\":table.options,\"slots\":table.slots}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div\r\n      v-if=\"!!this.$props.options.filters\"\r\n      class=\"mb-horizontal-table-controls\"\r\n    >\r\n      <div\r\n        v-for=\"(filter, index) in this.$props.options.filters\"\r\n        :id=\"'filter-' + index\"\r\n        :key=\"index\"\r\n        class=\"inline-block\"\r\n      >\r\n        <div class=\"vertically-centered mb-select-text\">\r\n          {{ filter.label }}\r\n        </div>\r\n        <select\r\n          class=\"mb-select\"\r\n          @change=\"handleFilterValueChange\"\r\n        >\r\n          <optgroup>\r\n            <option\r\n              v-for=\"(filterValue, filterIndex) in filter.values\"\r\n              :key=\"filterIndex\"\r\n              :value=\"slugifyFilterValue(filterValue)\"\r\n              class=\"mb-select-option\"\r\n            >\r\n              {{ filterValue.label }}\r\n            </option>\r\n          </optgroup>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <horizontal-table\r\n      v-for=\"(table, index) in options.tables\"\r\n      v-show=\"shouldShowTable(table.options.id)\"\r\n      :key=\"index\"\r\n      :item=\"tableGroupData\"\r\n      :options=\"table.options\"\r\n      :slots=\"table.slots\"\r\n    />\r\n    <!-- <topic-component-group :topic-components=\"options.components\" :item=\"item\" /> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopicComponent from './TopicComponent.vue';\r\n// import HorizontalTable from './HorizontalTable.vue';\r\n// import TopicComponentGroup from '../TopicComponentGroup.vue';\r\n\r\nexport default {\r\n  components: {\r\n    // HorizontalTable,\r\n    HorizontalTable: () => import(/* webpackChunkName: \"htg_pvc_HorizontalTable\" */'./HorizontalTable.vue'),\r\n    // TopicComponentGroup\r\n  },\r\n  // name: 'HorizontalTableGroup',\r\n  mixins: [ TopicComponent ],\r\n  // some internal state for things local enough that they shouldn't be in\r\n  // vuex if we can avoid it.\r\n  data() {\r\n    const tableGroupData = {\r\n      'tableGroupId': this.options.horizontalTableGroupId,\r\n      'activeTable': null,\r\n      'activeTableId': null,\r\n    };\r\n      // return {\r\n      //   horizontalTableGroupId: this.options.horizontalTableGroupId,\r\n      //   activeTable: null,\r\n      //   activeTableId: null,\r\n      // };\r\n    return {\r\n      tableGroupData,\r\n    };\r\n  },\r\n  computed: {\r\n    altMainTable() {\r\n      if (this.options.alternate) {\r\n        return this.options.alternate.mainTable;\r\n      }\r\n      return null;\r\n\r\n    },\r\n    altDepTable() {\r\n      if (this.options.alternate) {\r\n        return this.options.alternate.dependentTable;\r\n      }\r\n      return null;\r\n\r\n    },\r\n  },\r\n  created() {\r\n    // console.log('horizontalTableGroup created is starting, this.tableGroupData:', this.tableGroupData);\r\n    if (this.options.filters) {\r\n      // console.log('horizontalTableGroup created, if this.options.filters is running:', this.options.filters, this.options.filters.entries());\r\n      for (let filter of this.options.filters) {\r\n        // for (let [index, filter] of this.options.filters.entries()) {\r\n        // console.log('for loop, this.options.filters:', this.options.filters[0]);\r\n        // let filter = this.options.filters[0]\r\n        // for (let [index, filter] of this.options.filters.entries()) {\r\n        // console.log('for loop, filter:', filter);\r\n        // console.log('for loop, index:', index, 'filter:', filter);\r\n        const defaultTableName = filter.values[0].value || {};\r\n        // console.log('for loop, defaultTableName:', defaultTableName);\r\n\r\n        // add activeTable to local data\r\n        this.tableGroupData.activeTable = defaultTableName;\r\n        // add activeTableId to local data\r\n        // console.log('for loop, this.options.components:', this.options.components);\r\n        for (let comp of this.options.tables) {\r\n          if (comp.options.id === defaultTableName) {\r\n            this.tableGroupData.activeTableId = comp._id;\r\n          }\r\n        }\r\n        // console.log('horizontalTableGroup this.tableGroupData:', this.tableGroupData);\r\n        this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n        // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n      }\r\n      // console.log('horizontalTableGroup created, if this.options.filters is ending');\r\n    }\r\n    if (this.options.alternate) {\r\n      // console.log('horizontalTableGroup created, if this.options.alternate - mainTable', this.options.alternate.mainTable, this.altMainTable, 'dependentTable', this.options.alternate.dependentTable, this.altDepTable);\r\n      const sources = this.$store.state.sources;\r\n      // console.log('Tablegroup source check dep', sources[this.altDepTable.dataSource].data);\r\n      // console.log('Tablegroup source check main', sources[this.altMainTable.dataSource].data);\r\n      if (sources[this.altDepTable.dataSource].data && !sources[this.altMainTable.dataSource].data) {\r\n        // console.log('Tablegroup there is a dep table, and not a main table');\r\n        this.activeTable = this.altDepTable.id;\r\n        this.activeTableId = 'aaa';\r\n        this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n        // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n      } else if (sources[this.altMainTable.dataSource].data) {\r\n        this.activeTable = this.altMainTable.id;\r\n        this.activeTableId = 'bbb';\r\n        this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n        // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n      }\r\n    }\r\n    if (this.options.showBoth) {\r\n      // console.log('tableGroup showBoth');\r\n    }\r\n  },\r\n  methods: {\r\n    shouldShowTable(id) {\r\n      let result = true;\r\n\r\n      // if the table is in a tab group or table group, it will have an \"item\" in props\r\n      // if (this.item) {\r\n      // if it is in a table group, the item will contain an \"activeTable\" for the group\r\n      // if (this.activeTable) {\r\n      // const id = this.options.id;\r\n      if (this.tableGroupData.activeTable != id) {\r\n        result = false;\r\n      }\r\n      // }\r\n      // }\r\n      // if there is no data, and the table should not show at all if it is empty\r\n      // if (this.options.showOnlyIfData && this.tableGroupData.length === 0) {\r\n      //   result = false;\r\n      // }\r\n\r\n      return result;\r\n    },\r\n    slugifyFilterValue(filterValue) {\r\n      const { direction, value, unit } = filterValue;\r\n      return [ direction, value, unit ].join('-');\r\n    },\r\n    deslugifyFilterValue(slug) {\r\n      const parts = slug.split('-');\r\n      const [ direction, value, unit ] = parts;\r\n      return { value, unit, direction };\r\n    },\r\n    handleFilterValueChange(e) {\r\n      // console.log('handle activeTable value change', e);\r\n      const target = e.target;\r\n      const slug = target.value;\r\n      // deslugify filter value\r\n      const valueObj = this.deslugifyFilterValue(slug);\r\n      const tableName = valueObj.value;\r\n\r\n      // add activeTable to local data\r\n      this.tableGroupData.activeTable = tableName;\r\n\r\n      // add activeTableId to local data\r\n      for (let comp of this.options.tables) {\r\n        // console.log('tableName:', tableName, 'comp.options.id:', comp.options.id, 'comp:', comp);\r\n        if (comp.options.id === tableName) {\r\n          this.tableGroupData.activeTableId = comp._id;\r\n        }\r\n      }\r\n\r\n      // console.log('handleFilterValueChange, this.tableGroupData:', this.tableGroupData);\r\n      this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n      // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .tabs-panel {\r\n    padding: 20px;\r\n  }\r\n\r\n  .inline-block {\r\n    display: inline-block;\r\n  }\r\n\r\n  .vertically-centered {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .mb-horizontal-table-controls {\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  /* dropdown filters */\r\n  .mb-select-text {\r\n    font-size: 16px;\r\n    padding-right: 5px;\r\n    padding-left: 5px;\r\n  }\r\n\r\n  .mb-select {\r\n    width: auto;\r\n    height: 40px;\r\n    vertical-align: middle;\r\n    /*padding-right: 20px;*/\r\n  }\r\n\r\n  .mb-select-option {\r\n    display: inline-block;\r\n    padding-right: 100px;\r\n    margin-right: 100px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../../../../thread-loader/dist/cjs.js!../../../../../../../babel-loader/lib/index.js!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./HorizontalTableGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../../../../thread-loader/dist/cjs.js!../../../../../../../babel-loader/lib/index.js!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./HorizontalTableGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HorizontalTableGroup.vue?vue&type=template&id=44fab56a&scoped=true&\"\nimport script from \"./HorizontalTableGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./HorizontalTableGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HorizontalTableGroup.vue?vue&type=style&index=0&id=44fab56a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44fab56a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}