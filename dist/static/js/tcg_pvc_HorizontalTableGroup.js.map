{"version":3,"sources":["webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue?adca","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue?e35c","webpack:///node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue?9b90","webpack:///./node_modules/@phila/pinboard/node_modules/@phila/vue-comps/src/components/HorizontalTableGroup.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","$props","options","filters","staticClass","_l","filter","index","key","attrs","_v","_s","label","on","handleFilterValueChange","filterValue","filterIndex","domProps","slugifyFilterValue","_e","table","directives","name","rawName","value","shouldShowTable","id","expression","tableGroupData","slots","staticRenderFns","components","HorizontalTable","mixins","data","horizontalTableGroupId","computed","altMainTable","alternate","mainTable","altDepTable","dependentTable","created","sources","dataSource","activeTable","activeTableId","$store","commit","showBoth","methods","result","deslugifyFilterValue","tableName","component"],"mappings":"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","file":"static/js/tcg_pvc_HorizontalTableGroup.js","sourcesContent":["import mod from \"-!../../../../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./HorizontalTableGroup.vue?vue&type=style&index=0&id=44fab56a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./HorizontalTableGroup.vue?vue&type=style&index=0&id=44fab56a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!!this.$props.options.filters)?_c('div',{staticClass:\"mb-horizontal-table-controls\"},_vm._l((this.$props.options.filters),function(filter,index){return _c('div',{key:index,staticClass:\"inline-block\",attrs:{\"id\":'filter-' + index}},[_c('div',{staticClass:\"vertically-centered mb-select-text\"},[_vm._v(\" \"+_vm._s(filter.label)+\" \")]),_c('select',{staticClass:\"mb-select\",on:{\"change\":_vm.handleFilterValueChange}},[_c('optgroup',_vm._l((filter.values),function(filterValue,filterIndex){return _c('option',{key:filterIndex,staticClass:\"mb-select-option\",domProps:{\"value\":_vm.slugifyFilterValue(filterValue)}},[_vm._v(\" \"+_vm._s(filterValue.label)+\" \")])}),0)])])}),0):_vm._e(),_vm._l((_vm.options.tables),function(table,index){return _c('horizontal-table',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shouldShowTable(table.options.id)),expression:\"shouldShowTable(table.options.id)\"}],key:index,attrs:{\"item\":_vm.tableGroupData,\"options\":table.options,\"slots\":table.slots}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div\r\n      v-if=\"!!this.$props.options.filters\"\r\n      class=\"mb-horizontal-table-controls\"\r\n    >\r\n      <div\r\n        v-for=\"(filter, index) in this.$props.options.filters\"\r\n        :id=\"'filter-' + index\"\r\n        :key=\"index\"\r\n        class=\"inline-block\"\r\n      >\r\n        <div class=\"vertically-centered mb-select-text\">\r\n          {{ filter.label }}\r\n        </div>\r\n        <select\r\n          class=\"mb-select\"\r\n          @change=\"handleFilterValueChange\"\r\n        >\r\n          <optgroup>\r\n            <option\r\n              v-for=\"(filterValue, filterIndex) in filter.values\"\r\n              :key=\"filterIndex\"\r\n              :value=\"slugifyFilterValue(filterValue)\"\r\n              class=\"mb-select-option\"\r\n            >\r\n              {{ filterValue.label }}\r\n            </option>\r\n          </optgroup>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <horizontal-table\r\n      v-for=\"(table, index) in options.tables\"\r\n      v-show=\"shouldShowTable(table.options.id)\"\r\n      :key=\"index\"\r\n      :item=\"tableGroupData\"\r\n      :options=\"table.options\"\r\n      :slots=\"table.slots\"\r\n    />\r\n    <!-- <topic-component-group :topic-components=\"options.components\" :item=\"item\" /> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopicComponent from './TopicComponent.vue';\r\n// import HorizontalTable from './HorizontalTable.vue';\r\n// import TopicComponentGroup from '../TopicComponentGroup.vue';\r\n\r\nexport default {\r\n  components: {\r\n    // HorizontalTable,\r\n    HorizontalTable: () => import(/* webpackChunkName: \"htg_pvc_HorizontalTable\" */'./HorizontalTable.vue'),\r\n    // TopicComponentGroup\r\n  },\r\n  // name: 'HorizontalTableGroup',\r\n  mixins: [ TopicComponent ],\r\n  // some internal state for things local enough that they shouldn't be in\r\n  // vuex if we can avoid it.\r\n  data() {\r\n    const tableGroupData = {\r\n      'tableGroupId': this.options.horizontalTableGroupId,\r\n      'activeTable': null,\r\n      'activeTableId': null,\r\n    };\r\n      // return {\r\n      //   horizontalTableGroupId: this.options.horizontalTableGroupId,\r\n      //   activeTable: null,\r\n      //   activeTableId: null,\r\n      // };\r\n    return {\r\n      tableGroupData,\r\n    };\r\n  },\r\n  computed: {\r\n    altMainTable() {\r\n      if (this.options.alternate) {\r\n        return this.options.alternate.mainTable;\r\n      }\r\n      return null;\r\n\r\n    },\r\n    altDepTable() {\r\n      if (this.options.alternate) {\r\n        return this.options.alternate.dependentTable;\r\n      }\r\n      return null;\r\n\r\n    },\r\n  },\r\n  created() {\r\n    // console.log('horizontalTableGroup created is starting, this.tableGroupData:', this.tableGroupData);\r\n    if (this.options.filters) {\r\n      // console.log('horizontalTableGroup created, if this.options.filters is running:', this.options.filters, this.options.filters.entries());\r\n      for (let filter of this.options.filters) {\r\n        // for (let [index, filter] of this.options.filters.entries()) {\r\n        // console.log('for loop, this.options.filters:', this.options.filters[0]);\r\n        // let filter = this.options.filters[0]\r\n        // for (let [index, filter] of this.options.filters.entries()) {\r\n        // console.log('for loop, filter:', filter);\r\n        // console.log('for loop, index:', index, 'filter:', filter);\r\n        const defaultTableName = filter.values[0].value || {};\r\n        // console.log('for loop, defaultTableName:', defaultTableName);\r\n\r\n        // add activeTable to local data\r\n        this.tableGroupData.activeTable = defaultTableName;\r\n        // add activeTableId to local data\r\n        // console.log('for loop, this.options.components:', this.options.components);\r\n        for (let comp of this.options.tables) {\r\n          if (comp.options.id === defaultTableName) {\r\n            this.tableGroupData.activeTableId = comp._id;\r\n          }\r\n        }\r\n        // console.log('horizontalTableGroup this.tableGroupData:', this.tableGroupData);\r\n        this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n        // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n      }\r\n      // console.log('horizontalTableGroup created, if this.options.filters is ending');\r\n    }\r\n    if (this.options.alternate) {\r\n      // console.log('horizontalTableGroup created, if this.options.alternate - mainTable', this.options.alternate.mainTable, this.altMainTable, 'dependentTable', this.options.alternate.dependentTable, this.altDepTable);\r\n      const sources = this.$store.state.sources;\r\n      // console.log('Tablegroup source check dep', sources[this.altDepTable.dataSource].data);\r\n      // console.log('Tablegroup source check main', sources[this.altMainTable.dataSource].data);\r\n      if (sources[this.altDepTable.dataSource].data && !sources[this.altMainTable.dataSource].data) {\r\n        // console.log('Tablegroup there is a dep table, and not a main table');\r\n        this.activeTable = this.altDepTable.id;\r\n        this.activeTableId = 'aaa';\r\n        this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n        // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n      } else if (sources[this.altMainTable.dataSource].data) {\r\n        this.activeTable = this.altMainTable.id;\r\n        this.activeTableId = 'bbb';\r\n        this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n        // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n      }\r\n    }\r\n    if (this.options.showBoth) {\r\n      // console.log('tableGroup showBoth');\r\n    }\r\n  },\r\n  methods: {\r\n    shouldShowTable(id) {\r\n      let result = true;\r\n\r\n      // if the table is in a tab group or table group, it will have an \"item\" in props\r\n      // if (this.item) {\r\n      // if it is in a table group, the item will contain an \"activeTable\" for the group\r\n      // if (this.activeTable) {\r\n      // const id = this.options.id;\r\n      if (this.tableGroupData.activeTable != id) {\r\n        result = false;\r\n      }\r\n      // }\r\n      // }\r\n      // if there is no data, and the table should not show at all if it is empty\r\n      // if (this.options.showOnlyIfData && this.tableGroupData.length === 0) {\r\n      //   result = false;\r\n      // }\r\n\r\n      return result;\r\n    },\r\n    slugifyFilterValue(filterValue) {\r\n      const { direction, value, unit } = filterValue;\r\n      return [ direction, value, unit ].join('-');\r\n    },\r\n    deslugifyFilterValue(slug) {\r\n      const parts = slug.split('-');\r\n      const [ direction, value, unit ] = parts;\r\n      return { value, unit, direction };\r\n    },\r\n    handleFilterValueChange(e) {\r\n      // console.log('handle activeTable value change', e);\r\n      const target = e.target;\r\n      const slug = target.value;\r\n      // deslugify filter value\r\n      const valueObj = this.deslugifyFilterValue(slug);\r\n      const tableName = valueObj.value;\r\n\r\n      // add activeTable to local data\r\n      this.tableGroupData.activeTable = tableName;\r\n\r\n      // add activeTableId to local data\r\n      for (let comp of this.options.tables) {\r\n        // console.log('tableName:', tableName, 'comp.options.id:', comp.options.id, 'comp:', comp);\r\n        if (comp.options.id === tableName) {\r\n          this.tableGroupData.activeTableId = comp._id;\r\n        }\r\n      }\r\n\r\n      // console.log('handleFilterValueChange, this.tableGroupData:', this.tableGroupData);\r\n      this.$store.commit('setHorizontalTableGroupActiveTable', this.tableGroupData);\r\n      // this.$store.commit('setHorizontalTableGroupActiveTableId', this.activeTable);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .tabs-panel {\r\n    padding: 20px;\r\n  }\r\n\r\n  .inline-block {\r\n    display: inline-block;\r\n  }\r\n\r\n  .vertically-centered {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .mb-horizontal-table-controls {\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  /* dropdown filters */\r\n  .mb-select-text {\r\n    font-size: 16px;\r\n    padding-right: 5px;\r\n    padding-left: 5px;\r\n  }\r\n\r\n  .mb-select {\r\n    width: auto;\r\n    height: 40px;\r\n    vertical-align: middle;\r\n    /*padding-right: 20px;*/\r\n  }\r\n\r\n  .mb-select-option {\r\n    display: inline-block;\r\n    padding-right: 100px;\r\n    margin-right: 100px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../../../../thread-loader/dist/cjs.js!../../../../../../../babel-loader/lib/index.js!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./HorizontalTableGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../../../../thread-loader/dist/cjs.js!../../../../../../../babel-loader/lib/index.js!../../../../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./HorizontalTableGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HorizontalTableGroup.vue?vue&type=template&id=44fab56a&scoped=true&\"\nimport script from \"./HorizontalTableGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./HorizontalTableGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HorizontalTableGroup.vue?vue&type=style&index=0&id=44fab56a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44fab56a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}