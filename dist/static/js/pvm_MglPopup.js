(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pvm_MglPopup"],{"81e1":function(t,e,o){"use strict";o("4160"),o("caad"),o("b64b"),o("2532"),o("159b");var i=o("5530");e["a"]={methods:{$_emitSelfEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$_emitMapEvent(t,Object(i["a"])({control:this.control},e))},$_bindSelfEvents:function(t,e){var o=this;Object.keys(this.$listeners).forEach((function(i){t.includes(i)&&e.on(i,o.$_emitSelfEvent)}))},$_unbindSelfEvents:function(t,e){var o=this;0!==t.length&&e&&t.forEach((function(t){e.off(t,o.$_emitSelfEvent)}))}}}},"9f0b":function(t,e,o){"use strict";o("d81d");var i=o("5530");e["a"]={methods:{$_emitEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$emit(t,Object(i["a"])({map:this.map,component:this},e))},$_emitMapEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$_emitEvent(t.type,Object(i["a"])({mapboxEvent:t},e))}}}},ab67:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{display:"none"}},[t._t("default")],2)},n=[],p=(o("caad"),o("d81d"),o("a9e3"),o("b64b"),o("9f0b")),s=o("81e1"),a={open:"open",close:"close"},u={name:"Popup",mixins:[p["a"],s["a"]],inject:{mapbox:{default:null},map:{default:null},marker:{default:null}},props:{closeButton:{type:Boolean,default:!0},closeOnClick:{type:Boolean,default:!0},anchor:{validator:function(t){var e=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"];return"string"===typeof t&&e.includes(t)},default:void 0},offset:{type:[Number,Object,Array],default:function(){return[0,0]}},coordinates:{type:Array},onlyText:{type:Boolean,default:!1},showed:{type:Boolean,default:!1}},data:function(){return{initial:!0,popup:void 0}},computed:{open:{get:function(){return void 0!==this.popup&&this.popup.isOpen()},set:function(t){this.map&&this.popup&&(t?this.popup.addTo(this.map):this.popup.remove())}}},watch:{coordinates:function(t){this.initial||this.popup.setLngLat(t)},showed:function(t,e){t!==e&&(this.open=t,this.marker&&this.marker.togglePopup())}},created:function(){this.popup=new this.mapbox.Popup(this.$props)},mounted:function(){this.$_addPopup(),this.initial=!1},beforeDestroy:function(){this.map&&(this.popup.remove(),this.$_emitEvent("removed"))},methods:{$_addPopup:function(){if(this.popup=new this.mapbox.Popup(this.$props),void 0!==this.coordinates&&this.popup.setLngLat(this.coordinates),void 0!==this.$slots.default)if(this.onlyText)if(3===this.$slots.default[0].elm.nodeType){var t=document.createElement("span");t.appendChild(this.$slots.default[0].elm),this.popup.setText(t.innerText)}else this.popup.setText(this.$slots.default[0].elm.innerText);else this.popup.setDOMContent(this.$slots.default[0].elm);this.$_bindSelfEvents(Object.keys(a),this.popup),this.$_emitEvent("added",{popup:this.popup}),this.marker&&this.marker.setPopup(this.popup),this.showed&&this.marker&&this.marker.togglePopup()},$_emitSelfEvent:function(t){this.$_emitMapEvent(t,{popup:this.popup})},remove:function(){this.popup.remove(),this.$_emitEvent("remove",{popup:this.popup})}}},l=u,h=o("2877"),r=Object(h["a"])(l,i,n,!1,null,null,null);e["default"]=r.exports}}]);
//# sourceMappingURL=pvm_MglPopup.js.map