(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tcg_pvc_LegendBox"],{"3d6c":function(e,t,a){"use strict";var l=a("e50b"),s=a.n(l);s.a},"5b50":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{class:e.legendClass,domProps:{innerHTML:e._s(e.legendHtml)}})])},s=[],i=(a("d81d"),a("b85c")),n=(a("f076"),{props:["layer","layerName","layerId","layerDefinition","legend","legendClass","scales"],data:function(){return{legendHtml:"",options:{listTemplate:"<ul>{layers}</ul>",layerTemplate:"<li><ul>{legends}</ul></li>",listRowTemplate:'<li><img width="{width}" height="{height}" src="data:{contentType};base64,{imageData}"><span>{label}</span></li>',emptyLabel:"",container:null}}},computed:{scale:function(){var e=this.$store.state.map.zoom,t=e+1,a=this.$props.scales[t];return a}},watch:{scale:function(e){this.createLegend(e)},legend:function(){console.log("METHOD watch props legend fired, this.$props.layerId:",this.$props.layerId),this.createLegend(this.scale)}},created:function(){this.initialize()},methods:{initialize:function(){if(this.$props.legend)this.createLegend(this.scale);else{var e;this.$props.layerDefinition&&(e=this.$props.layerDefinition.drawingInfo);var t={layerName:this.$props.layerName,layerId:this.$props.layerId,store:this.$store,drawingInfo:e};L.esri.legendControl(this.$props.layer,t)}},createLegend:function(e){var t=this.$props.legend,a="";if(1===t.layers.length){var l,s=t.layers[0],n="",r=Object(i["a"])(s.legend);try{for(r.s();!(l=r.n()).done;){var o=l.value,p=JSON.parse(JSON.stringify(o));p.label||(p.label=""),n+=L.Util.template(this.options.listRowTemplate,p)}}catch(b){r.e(b)}finally{r.f()}a+=L.Util.template(this.options.layerTemplate,{layerName:s.layerName,legends:n})}else{var c,d=Object(i["a"])(t.layers);try{for(d.s();!(c=d.n()).done;){var h=c.value,y="";if(parseFloat(e)>parseFloat(h.maxScale)&&parseFloat(e)<parseFloat(h.minScale)){var f,m=Object(i["a"])(h.legend);try{for(m.s();!(f=m.n()).done;){var g=f.value,u=JSON.parse(JSON.stringify(g));y+=L.Util.template(this.options.listRowTemplate,u)}}catch(b){m.e(b)}finally{m.f()}}a+=L.Util.template(this.options.layerTemplate,{layerName:h.layerName,legends:y})}}catch(b){d.e(b)}finally{d.f()}}var v=L.Util.template(this.options.listTemplate,{layers:a});this.legendHtml=v}}}),r=n,o=(a("3d6c"),a("2877")),p=Object(o["a"])(r,l,s,!1,null,null,null);t["default"]=p.exports},e50b:function(e,t,a){}}]);
//# sourceMappingURL=tcg_pvc_LegendBox.js.map