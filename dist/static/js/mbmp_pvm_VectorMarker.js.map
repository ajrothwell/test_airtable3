{"version":3,"sources":["webpack:///./node_modules/leaflet-vector-icon/dist/leaflet-vector-icon.js","webpack:///./node_modules/@phila/vue-mapping/src/components/VectorMarker.vue?ad84","webpack:///./node_modules/@phila/vue-mapping/src/components/VectorMarker.vue?b0cd","webpack:///node_modules/@phila/vue-mapping/src/components/VectorMarker.vue","webpack:///./node_modules/@phila/vue-mapping/src/components/VectorMarker.vue?767b","webpack:///./node_modules/@phila/vue-mapping/src/components/VectorMarker.vue"],"names":["e","o","module","exports","this","iconSize","iconAnchor","popupAnchor","shadowAnchor","shadowSize","className","prefix","spinClass","extraIconClasses","extraDivClasses","icon","markerColor","iconColor","viewBox","t","i","size","n","call","Util","setOptions","__proto__","prototype","Object","create","constructor","createIcon","tagName","document","createElement","options","innerHTML","length","_setIconStyles","createShadow","shadow","map","style","marginLeft","marginTop","width","height","Icon","render","_vm","_h","$createElement","_c","_self","_t","staticRenderFns","name","props","watch","$leafletElement","_map","removeLayer","leafletElement","addTo","latlng","mounted","destroyed","methods","createLeafletElement","$props","parentMounted","component"],"mappings":"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","file":"static/js/mbmp_pvm_VectorMarker.js","sourcesContent":["!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=o(require(\"leaflet\")):\"function\"==typeof define&&define.amd?define([\"leaflet\"],o):e.leafletVectorIcon=o(e.L)}(this,function(e){\"use strict\";var o={iconSize:[100,100],iconAnchor:[50,50],popupAnchor:[2,-40],shadowAnchor:[39,45],shadowSize:[54,51],className:\"vector-marker\",prefix:\"fa\",spinClass:\"fa-spin\",extraIconClasses:\"\",extraDivClasses:\"\",icon:\"home\",markerColor:\"red\",iconColor:\"white\",viewBox:\"0 0 32 52\"};return function(t){function i(i){if(i.icon.size){var n=i.icon.size;i.iconSize=[2*n,2*n],i.iconAnchor=[n,n]}else i.icon.size=50;t.call(this,i),e.Util.setOptions(this,o),e.Util.setOptions(this,i)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.createIcon=function(e){var o=e&&\"DIV\"===e.tagName?e:document.createElement(\"div\"),t=this.options,i=t.icon;return o.innerHTML='<i class=\"'+i.prefix+\" fa-\"+i.icon+'\" style=\"color:'+t.markerColor+\"; width: \"+i.size+\"px; height: \"+i.size+'px\"></i>',t.className+=t.className.length>0?\" \"+t.extraDivClasses:t.extraDivClasses,this._setIconStyles(o,\"icon\"),this._setIconStyles(o,\"icon-\"+t.markerColor),o},i.prototype.createShadow=function(){if(1==this.options.icon.shadow){var e=document.createElement(\"div\");return this._setIconStyles(e,\"shadow\"),e}},i.prototype._setIconStyles=function(e,o){var t,i,n=this.options;\"shadow\"===o?(t=n.shadowSize,i=n.shadowAnchor||n.iconAnchor):(t=n.iconSize,i=n.iconAnchor),!i&&t&&(i=t.map(function(e){return e/2})),e.className=\"vector-marker-\"+o+\" \"+n.className,i&&(e.style.marginLeft=-i[0]+\"px\",e.style.marginTop=-i[1]+\"px\"),t&&(e.style.width=t[0]+\"px\",e.style.height=t[1]+\"px\")},i}(e.Icon)});\r\n//# sourceMappingURL=leaflet-vector-icon.js.map\r\n","import mod from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./VectorMarker.vue?vue&type=style&index=0&id=4c7ee0a1&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./VectorMarker.vue?vue&type=style&index=0&id=4c7ee0a1&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <slot />\n  </div>\n</template>\n\n<script>\nimport { Marker } from 'leaflet';\nimport VectorIcon from 'leaflet-vector-icon';\nimport 'leaflet-vector-icon/dist/leaflet-vector-icon.css';\nimport bindEvents from '../leaflet/util/bind-events';\n\nexport default {\n  name: 'VectorMarker',\n  props: [\n    'latlng',\n    'markerColor',\n    'icon',\n    'data',\n  ],\n  // render(h) {\n  //   const a = this.$props.latlng;\n  //   return;\n  // },\n  watch: {\n    markerColor(nextMarkerColor, prevMarkerColor) {\n      // console.log('watch markerColor, nextMarkerColor:', nextMarkerColor, 'prevMarkerColor:', prevMarkerColor);\n      this.$leafletElement._map.removeLayer(this.$leafletElement);\n      const leafletElement = this.$leafletElement = this.createLeafletElement();\n      const map = this.$store.state.map.map;\n\n      if (map) {\n        leafletElement.addTo(map);\n      }\n      bindEvents(this, this.$leafletElement, this._events);\n    },\n    latlng(nextLatLng, prevLatLng) {\n      this.$leafletElement._map.removeLayer(this.$leafletElement);\n      const leafletElement = this.$leafletElement = this.createLeafletElement();\n      const map = this.$store.state.map.map;\n\n      if (map) {\n        leafletElement.addTo(map);\n      }\n      bindEvents(this, this.$leafletElement, this._events);\n    },\n  },\n  mounted() {\n    // console.log('VectorMarker mounted is running, this:', this);\n    const leafletElement = this.$leafletElement = this.createLeafletElement();\n    const map = this.$store.state.map.map;\n\n    if (map) {\n      leafletElement.addTo(map);\n    }\n\n    bindEvents(this, this.$leafletElement, this._events);\n  },\n  destroyed() {\n    // console.log('VectorMarker destroyed is running');\n    this.$leafletElement._map.removeLayer(this.$leafletElement);\n  },\n  methods: {\n    createLeafletElement() {\n      // console.log('createLeafletElement is running');\n      const props = this.$props;\n      const {\n        latlng,\n        ...options\n      } = props;\n      options.icon = new VectorIcon({\n        icon:  this.$props.icon || 'circle',\n        markerColor: this.$props.markerColor || '#2176d2',\n      });\n\n      return new Marker(this.latlng, options);\n    },\n    parentMounted(parent) {\n      const map = parent.$leafletElement;\n      this.$leafletElement.addTo(map);\n    },\n  },\n};\n</script>\n\n<style scoped>\n\n/* .fa-lg {\n  vertical-align: -10%;\n} */\n\n</style>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./VectorMarker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./VectorMarker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VectorMarker.vue?vue&type=template&id=4c7ee0a1&scoped=true&\"\nimport script from \"./VectorMarker.vue?vue&type=script&lang=js&\"\nexport * from \"./VectorMarker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VectorMarker.vue?vue&type=style&index=0&id=4c7ee0a1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c7ee0a1\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}