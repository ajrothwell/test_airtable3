(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mbmp_pvm_MglIcon"],{"3e72":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{display:"none"}},[n("div",{staticClass:"test-div"}),t._t("icon"),t.marker?t._t("default"):t._e()],2)},r=[],a=(n("4160"),n("caad"),n("d81d"),n("b64b"),n("07ac"),n("2532"),n("159b"),n("5530")),s=n("9f0b"),o=n("81e1"),c={drag:"drag",dragstart:"dragstart",dragend:"dragend"},d={click:"click",mouseenter:"mouseenter",mouseleave:"mouseleave"},m={name:"MapIcon",mixins:[s["a"],o["a"]],inject:["mapbox","map"],provide:function(){var t=this;return{get marker(){return t.marker}}},props:{offset:{type:[Object,Array],default:function(){return[0,0]}},coordinates:{type:Array,required:!0},color:{type:String},anchor:{type:String,default:"center"},draggable:{type:Boolean,default:!1}},data:function(){return{initial:!0,marker:void 0}},watch:{coordinates:function(t){this.initial||this.marker.setLngLat(t)},draggable:function(t){this.initial||this.marker.setDraggable(t)}},mounted:function(){var t=this,e=Object(a["a"])({},this.$props);console.log("Icon.vue, markerOptions:",e),this.$slots.marker&&(e.element=this.$slots.marker[0].elm);var n=document.createElement("div");n.className="test-div",this.marker=new this.mapbox.Marker(n),this.$listeners["update:coordinates"]&&this.marker.on("dragend",(function(e){var n;n=t.coordinates instanceof Array?[e.target._lngLat.lng,e.target._lngLat.lat]:e.target._lngLat,t.$emit("update:coordinates",n)}));var i=Object.keys(c);this.$_bindSelfEvents(i,this.marker),this.initial=!1,this.$_addMarker()},beforeDestroy:function(){void 0!==this.map&&void 0!==this.marker&&this.marker.remove()},methods:{$_addMarker:function(){this.marker.setLngLat(this.coordinates).addTo(this.map),this.$_bindMarkerDOMEvents(),this.$_emitEvent("added",{marker:this.marker})},$_emitSelfEvent:function(t){this.$_emitMapEvent(t,{marker:this.marker})},$_bindMarkerDOMEvents:function(){var t=this;Object.keys(this.$listeners).forEach((function(e){Object.values(d).includes(e)&&t.marker._element.addEventListener(e,(function(e){t.$_emitSelfEvent(e)}))}))},remove:function(){this.marker.remove(),this.$_emitEvent("removed")},togglePopup:function(){return this.marker.togglePopup()}}},l=m,u=(n("f425"),n("2877")),h=Object(u["a"])(l,i,r,!1,null,null,null);e["default"]=h.exports},"6d0d":function(t,e,n){},"81e1":function(t,e,n){"use strict";n("4160"),n("caad"),n("b64b"),n("2532"),n("159b");var i=n("5530");e["a"]={methods:{$_emitSelfEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$_emitMapEvent(t,Object(i["a"])({control:this.control},e))},$_bindSelfEvents:function(t,e){var n=this;Object.keys(this.$listeners).forEach((function(i){t.includes(i)&&e.on(i,n.$_emitSelfEvent)}))},$_unbindSelfEvents:function(t,e){var n=this;0!==t.length&&e&&t.forEach((function(t){e.off(t,n.$_emitSelfEvent)}))}}}},"9f0b":function(t,e,n){"use strict";n("d81d");var i=n("5530");e["a"]={methods:{$_emitEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$emit(t,Object(i["a"])({map:this.map,component:this},e))},$_emitMapEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$_emitEvent(t.type,Object(i["a"])({mapboxEvent:t},e))}}}},f425:function(t,e,n){"use strict";var i=n("6d0d"),r=n.n(i);r.a}}]);
//# sourceMappingURL=mbmp_pvm_MglIcon.js.map